function FastClick(t,e){"use strict";function n(t,e){return function(){return t.apply(e,arguments)}}var r;if(e=e||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=e.touchBoundary||10,this.layer=t,this.tapDelay=e.tapDelay||200,!FastClick.notNeeded(t)){for(var i=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],o=this,s=0,a=i.length;a>s;s++)o[i[s]]=n(o[i[s]],o);deviceIsAndroid&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,r){var i=Node.prototype.removeEventListener;"click"===e?i.call(t,e,n.hijacked||n,r):i.call(t,e,n,r)},t.addEventListener=function(e,n,r){var i=Node.prototype.addEventListener;"click"===e?i.call(t,e,n.hijacked||(n.hijacked=function(t){t.propagationStopped||n(t)}),r):i.call(t,e,n,r)}),"function"==typeof t.onclick&&(r=t.onclick,t.addEventListener("click",function(t){r(t)},!1),t.onclick=null)}}var deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),deviceIsIOS4=deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),deviceIsIOSWithBadTarget=deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),deviceIsBlackBerry10=navigator.userAgent.indexOf("BB10")>0;FastClick.prototype.needsClick=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(deviceIsIOS&&"file"===t.type||t.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(t.className)},FastClick.prototype.needsFocus=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!deviceIsAndroid;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},FastClick.prototype.sendClick=function(t,e){"use strict";var n,r;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),r=e.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(t),!0,!0,window,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},FastClick.prototype.determineEventType=function(t){"use strict";return deviceIsAndroid&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},FastClick.prototype.focus=function(t){"use strict";var e;deviceIsIOS&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},FastClick.prototype.updateScrollParent=function(t){"use strict";var e,n;if(e=t.fastClickScrollParent,!e||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(t){"use strict";return t.nodeType===Node.TEXT_NODE?t.parentNode:t},FastClick.prototype.onTouchStart=function(t){"use strict";var e,n,r;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],deviceIsIOS){if(r=window.getSelection(),r.rangeCount&&!r.isCollapsed)return!0;if(!deviceIsIOS4){if(n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(t){"use strict";var e=t.changedTouches[0],n=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n?!0:!1},FastClick.prototype.onTouchMove=function(t){"use strict";return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},FastClick.prototype.findControl=function(t){"use strict";return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(t){"use strict";var e,n,r,i,o,s=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,deviceIsIOSWithBadTarget&&(o=t.changedTouches[0],s=document.elementFromPoint(o.pageX-window.pageXOffset,o.pageY-window.pageYOffset)||s,s.fastClickScrollParent=this.targetElement.fastClickScrollParent),r=s.tagName.toLowerCase(),"label"===r){if(e=this.findControl(s)){if(this.focus(s),deviceIsAndroid)return!1;s=e}}else if(this.needsFocus(s))return t.timeStamp-n>100||deviceIsIOS&&window.top!==window&&"input"===r?(this.targetElement=null,!1):(this.focus(s),this.sendClick(s,t),deviceIsIOS&&"select"===r||(this.targetElement=null,t.preventDefault()),!1);return deviceIsIOS&&!deviceIsIOS4&&(i=s.fastClickScrollParent,i&&i.fastClickLastScrollTop!==i.scrollTop)?!0:(this.needsClick(s)||(t.preventDefault(),this.sendClick(s,t)),!1)},FastClick.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onMouse=function(t){"use strict";return this.targetElement?t.forwardedTouchEvent?!0:t.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1):!0:!0},FastClick.prototype.onClick=function(t){"use strict";var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail?!0:(e=this.onMouse(t),e||(this.targetElement=null),e)},FastClick.prototype.destroy=function(){"use strict";var t=this.layer;deviceIsAndroid&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},FastClick.notNeeded=function(t){"use strict";var e,n,r;if("undefined"==typeof window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!deviceIsAndroid)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(n>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(deviceIsBlackBerry10&&(r=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),r[1]>=10&&r[2]>=3&&(e=document.querySelector("meta[name=viewport]")))){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction?!0:!1},FastClick.attach=function(t,e){"use strict";return new FastClick(t,e)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){"use strict";return FastClick}):"undefined"!=typeof module&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick;var Zepto=function(){function t(t){return null==t?String(t):X[Z.call(t)]||"object"}function e(e){return"function"==t(e)}function n(t){return null!=t&&t==t.window}function r(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function i(e){return"object"==t(e)}function o(t){return i(t)&&!n(t)&&Object.getPrototypeOf(t)==Object.prototype}function s(t){return"number"==typeof t.length}function a(t){return O.call(t,function(t){return null!=t})}function c(t){return t.length>0?x.fn.concat.apply([],t):t}function u(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function l(t){return t in j?j[t]:j[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function d(t,e){return"number"!=typeof e||A[u(t)]?e:e+"px"}function h(t){var e,n;return M[t]||(e=N.createElement(t),N.body.appendChild(e),n=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==n&&(n="block"),M[t]=n),M[t]}function f(t){return"children"in t?S.call(t.children):x.map(t.childNodes,function(t){return 1==t.nodeType?t:void 0})}function p(t,e,n){for(E in e)n&&(o(e[E])||J(e[E]))?(o(e[E])&&!o(t[E])&&(t[E]={}),J(e[E])&&!J(t[E])&&(t[E]=[]),p(t[E],e[E],n)):e[E]!==w&&(t[E]=e[E])}function v(t,e){return null==e?x(t):x(t).filter(e)}function m(t,n,r,i){return e(n)?n.call(t,r,i):n}function g(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function b(t,e){var n=t.className,r=n&&n.baseVal!==w;return e===w?r?n.baseVal:n:void(r?n.baseVal=e:t.className=e)}function y(t){var e;try{return t?"true"==t||("false"==t?!1:"null"==t?null:/^0/.test(t)||isNaN(e=Number(t))?/^[\[\{]/.test(t)?x.parseJSON(t):t:e):t}catch(n){return t}}function _(t,e){e(t);for(var n in t.childNodes)_(t.childNodes[n],e)}var w,E,x,k,C,T,L=[],S=L.slice,O=L.filter,N=window.document,M={},j={},A={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},D=/^\s*<(\w+|!)[^>]*>/,P=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,I=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,R=/^(?:body|html)$/i,F=/([A-Z])/g,H=["val","css","html","text","data","width","height","offset"],q=["after","prepend","before","append"],U=N.createElement("table"),B=N.createElement("tr"),V={tr:N.createElement("tbody"),tbody:U,thead:U,tfoot:U,td:B,th:B,"*":N.createElement("div")},$=/complete|loaded|interactive/,z=/^[\w-]*$/,X={},Z=X.toString,W={},Y=N.createElement("div"),G={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},J=Array.isArray||function(t){return t instanceof Array};return W.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var n=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(n)return n.call(t,e);var r,i=t.parentNode,o=!i;return o&&(i=Y).appendChild(t),r=~W.qsa(i,e).indexOf(t),o&&Y.removeChild(t),r},C=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},T=function(t){return O.call(t,function(e,n){return t.indexOf(e)==n})},W.fragment=function(t,e,n){var r,i,s;return P.test(t)&&(r=x(N.createElement(RegExp.$1))),r||(t.replace&&(t=t.replace(I,"<$1></$2>")),e===w&&(e=D.test(t)&&RegExp.$1),e in V||(e="*"),s=V[e],s.innerHTML=""+t,r=x.each(S.call(s.childNodes),function(){s.removeChild(this)})),o(n)&&(i=x(r),x.each(n,function(t,e){H.indexOf(t)>-1?i[t](e):i.attr(t,e)})),r},W.Z=function(t,e){return t=t||[],t.__proto__=x.fn,t.selector=e||"",t},W.isZ=function(t){return t instanceof W.Z},W.init=function(t,n){var r;if(!t)return W.Z();if("string"==typeof t)if(t=t.trim(),"<"==t[0]&&D.test(t))r=W.fragment(t,RegExp.$1,n),t=null;else{if(n!==w)return x(n).find(t);r=W.qsa(N,t)}else{if(e(t))return x(N).ready(t);if(W.isZ(t))return t;if(J(t))r=a(t);else if(i(t))r=[t],t=null;else if(D.test(t))r=W.fragment(t.trim(),RegExp.$1,n),t=null;else{if(n!==w)return x(n).find(t);r=W.qsa(N,t)}}return W.Z(r,t)},x=function(t,e){return W.init(t,e)},x.extend=function(t){var e,n=S.call(arguments,1);return"boolean"==typeof t&&(e=t,t=n.shift()),n.forEach(function(n){p(t,n,e)}),t},W.qsa=function(t,e){var n,i="#"==e[0],o=!i&&"."==e[0],s=i||o?e.slice(1):e,a=z.test(s);return r(t)&&a&&i?(n=t.getElementById(s))?[n]:[]:1!==t.nodeType&&9!==t.nodeType?[]:S.call(a&&!i?o?t.getElementsByClassName(s):t.getElementsByTagName(e):t.querySelectorAll(e))},x.contains=function(t,e){return t!==e&&t.contains(e)},x.type=t,x.isFunction=e,x.isWindow=n,x.isArray=J,x.isPlainObject=o,x.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},x.inArray=function(t,e,n){return L.indexOf.call(e,t,n)},x.camelCase=C,x.trim=function(t){return null==t?"":String.prototype.trim.call(t)},x.uuid=0,x.support={},x.expr={},x.map=function(t,e){var n,r,i,o=[];if(s(t))for(r=0;r<t.length;r++)n=e(t[r],r),null!=n&&o.push(n);else for(i in t)n=e(t[i],i),null!=n&&o.push(n);return c(o)},x.each=function(t,e){var n,r;if(s(t)){for(n=0;n<t.length;n++)if(e.call(t[n],n,t[n])===!1)return t}else for(r in t)if(e.call(t[r],r,t[r])===!1)return t;return t},x.grep=function(t,e){return O.call(t,e)},window.JSON&&(x.parseJSON=JSON.parse),x.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){X["[object "+e+"]"]=e.toLowerCase()}),x.fn={forEach:L.forEach,reduce:L.reduce,push:L.push,sort:L.sort,indexOf:L.indexOf,concat:L.concat,map:function(t){return x(x.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return x(S.apply(this,arguments))},ready:function(t){return $.test(N.readyState)&&N.body?t(x):N.addEventListener("DOMContentLoaded",function(){t(x)},!1),this},get:function(t){return t===w?S.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(t){return L.every.call(this,function(e,n){return t.call(e,n,e)!==!1}),this},filter:function(t){return e(t)?this.not(this.not(t)):x(O.call(this,function(e){return W.matches(e,t)}))},add:function(t,e){return x(T(this.concat(x(t,e))))},is:function(t){return this.length>0&&W.matches(this[0],t)},not:function(t){var n=[];if(e(t)&&t.call!==w)this.each(function(e){t.call(this,e)||n.push(this)});else{var r="string"==typeof t?this.filter(t):s(t)&&e(t.item)?S.call(t):x(t);this.forEach(function(t){r.indexOf(t)<0&&n.push(t)})}return x(n)},has:function(t){return this.filter(function(){return i(t)?x.contains(this,t):x(this).find(t).size()})},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!i(t)?t:x(t)},last:function(){var t=this[this.length-1];return t&&!i(t)?t:x(t)},find:function(t){var e,n=this;return e="object"==typeof t?x(t).filter(function(){var t=this;return L.some.call(n,function(e){return x.contains(e,t)})}):1==this.length?x(W.qsa(this[0],t)):this.map(function(){return W.qsa(this,t)})},closest:function(t,e){var n=this[0],i=!1;for("object"==typeof t&&(i=x(t));n&&!(i?i.indexOf(n)>=0:W.matches(n,t));)n=n!==e&&!r(n)&&n.parentNode;return x(n)},parents:function(t){for(var e=[],n=this;n.length>0;)n=x.map(n,function(t){return(t=t.parentNode)&&!r(t)&&e.indexOf(t)<0?(e.push(t),t):void 0});return v(e,t)},parent:function(t){return v(T(this.pluck("parentNode")),t)},children:function(t){return v(this.map(function(){return f(this)}),t)},contents:function(){return this.map(function(){return S.call(this.childNodes)})},siblings:function(t){return v(this.map(function(t,e){return O.call(f(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return x.map(this,function(e){return e[t]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=h(this.nodeName))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var n=e(t);if(this[0]&&!n)var r=x(t).get(0),i=r.parentNode||this.length>1;return this.each(function(e){x(this).wrapAll(n?t.call(this,e):i?r.cloneNode(!0):r)})},wrapAll:function(t){if(this[0]){x(this[0]).before(t=x(t));for(var e;(e=t.children()).length;)t=e.first();x(t).append(this)}return this},wrapInner:function(t){var n=e(t);return this.each(function(e){var r=x(this),i=r.contents(),o=n?t.call(this,e):t;i.length?i.wrapAll(o):r.append(o)})},unwrap:function(){return this.parent().each(function(){x(this).replaceWith(x(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var e=x(this);(t===w?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function(t){return x(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return x(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0===arguments.length?this.length>0?this[0].innerHTML:null:this.each(function(e){var n=this.innerHTML;x(this).empty().append(m(this,t,e,n))})},text:function(t){return 0===arguments.length?this.length>0?this[0].textContent:null:this.each(function(){this.textContent=t===w?"":""+t})},attr:function(t,e){var n;return"string"==typeof t&&e===w?0==this.length||1!==this[0].nodeType?w:"value"==t&&"INPUT"==this[0].nodeName?this.val():!(n=this[0].getAttribute(t))&&t in this[0]?this[0][t]:n:this.each(function(n){if(1===this.nodeType)if(i(t))for(E in t)g(this,E,t[E]);else g(this,t,m(this,e,n,this.getAttribute(t)))})},removeAttr:function(t){return this.each(function(){1===this.nodeType&&g(this,t)})},prop:function(t,e){return t=G[t]||t,e===w?this[0]&&this[0][t]:this.each(function(n){this[t]=m(this,e,n,this[t])})},data:function(t,e){var n=this.attr("data-"+t.replace(F,"-$1").toLowerCase(),e);return null!==n?y(n):w},val:function(t){return 0===arguments.length?this[0]&&(this[0].multiple?x(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value):this.each(function(e){this.value=m(this,t,e,this.value)})},offset:function(t){if(t)return this.each(function(e){var n=x(this),r=m(this,t,e,n.offset()),i=n.offsetParent().offset(),o={top:r.top-i.top,left:r.left-i.left};"static"==n.css("position")&&(o.position="relative"),n.css(o)});if(0==this.length)return null;var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(e,n){if(arguments.length<2){var r=this[0],i=getComputedStyle(r,"");if(!r)return;if("string"==typeof e)return r.style[C(e)]||i.getPropertyValue(e);if(J(e)){var o={};return x.each(J(e)?e:[e],function(t,e){o[e]=r.style[C(e)]||i.getPropertyValue(e)}),o}}var s="";if("string"==t(e))n||0===n?s=u(e)+":"+d(e,n):this.each(function(){this.style.removeProperty(u(e))});else for(E in e)e[E]||0===e[E]?s+=u(E)+":"+d(E,e[E])+";":this.each(function(){this.style.removeProperty(u(E))});return this.each(function(){this.style.cssText+=";"+s})},index:function(t){return t?this.indexOf(x(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return t?L.some.call(this,function(t){return this.test(b(t))},l(t)):!1},addClass:function(t){return t?this.each(function(e){k=[];var n=b(this),r=m(this,t,e,n);r.split(/\s+/g).forEach(function(t){x(this).hasClass(t)||k.push(t)},this),k.length&&b(this,n+(n?" ":"")+k.join(" "))}):this},removeClass:function(t){return this.each(function(e){return t===w?b(this,""):(k=b(this),m(this,t,e,k).split(/\s+/g).forEach(function(t){k=k.replace(l(t)," ")}),void b(this,k.trim()))})},toggleClass:function(t,e){return t?this.each(function(n){var r=x(this),i=m(this,t,n,b(this));i.split(/\s+/g).forEach(function(t){(e===w?!r.hasClass(t):e)?r.addClass(t):r.removeClass(t)})}):this},scrollTop:function(t){if(this.length){var e="scrollTop"in this[0];return t===w?e?this[0].scrollTop:this[0].pageYOffset:this.each(e?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(this.length){var e="scrollLeft"in this[0];return t===w?e?this[0].scrollLeft:this[0].pageXOffset:this.each(e?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),n=this.offset(),r=R.test(e[0].nodeName)?{top:0,left:0}:e.offset();return n.top-=parseFloat(x(t).css("margin-top"))||0,n.left-=parseFloat(x(t).css("margin-left"))||0,r.top+=parseFloat(x(e[0]).css("border-top-width"))||0,r.left+=parseFloat(x(e[0]).css("border-left-width"))||0,{top:n.top-r.top,left:n.left-r.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||N.body;t&&!R.test(t.nodeName)&&"static"==x(t).css("position");)t=t.offsetParent;return t})}},x.fn.detach=x.fn.remove,["width","height"].forEach(function(t){var e=t.replace(/./,function(t){return t[0].toUpperCase()});x.fn[t]=function(i){var o,s=this[0];return i===w?n(s)?s["inner"+e]:r(s)?s.documentElement["scroll"+e]:(o=this.offset())&&o[t]:this.each(function(e){s=x(this),s.css(t,m(this,i,e,s[t]()))})}}),q.forEach(function(e,n){var r=n%2;x.fn[e]=function(){var e,i,o=x.map(arguments,function(n){return e=t(n),"object"==e||"array"==e||null==n?n:W.fragment(n)}),s=this.length>1;return o.length<1?this:this.each(function(t,e){i=r?e:e.parentNode,e=0==n?e.nextSibling:1==n?e.firstChild:2==n?e:null,o.forEach(function(t){if(s)t=t.cloneNode(!0);else if(!i)return x(t).remove();_(i.insertBefore(t,e),function(t){null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src||window.eval.call(window,t.innerHTML)})})})},x.fn[r?e+"To":"insert"+(n?"Before":"After")]=function(t){return x(t)[e](this),this}}),W.Z.prototype=x.fn,W.uniq=T,W.deserializeValue=y,x.zepto=W,x}();window.Zepto=Zepto,void 0===window.$&&(window.$=Zepto),function(t){function e(t){return t._zid||(t._zid=h++)}function n(t,n,o,s){if(n=r(n),n.ns)var a=i(n.ns);return(m[e(t)]||[]).filter(function(t){return!(!t||n.e&&t.e!=n.e||n.ns&&!a.test(t.ns)||o&&e(t.fn)!==e(o)||s&&t.sel!=s)})}function r(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function i(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function o(t,e){return t.del&&!b&&t.e in y||!!e}function s(t){return _[t]||b&&y[t]||t}function a(n,i,a,c,l,h,f){var p=e(n),v=m[p]||(m[p]=[]);i.split(/\s/).forEach(function(e){if("ready"==e)return t(document).ready(a);var i=r(e);i.fn=a,i.sel=l,i.e in _&&(a=function(e){var n=e.relatedTarget;return!n||n!==this&&!t.contains(this,n)?i.fn.apply(this,arguments):void 0}),i.del=h;var p=h||a;i.proxy=function(t){if(t=u(t),!t.isImmediatePropagationStopped()){t.data=c;var e=p.apply(n,t._args==d?[t]:[t].concat(t._args));return e===!1&&(t.preventDefault(),t.stopPropagation()),e}},i.i=v.length,v.push(i),"addEventListener"in n&&n.addEventListener(s(i.e),i.proxy,o(i,f))})}function c(t,r,i,a,c){var u=e(t);(r||"").split(/\s/).forEach(function(e){n(t,e,i,a).forEach(function(e){delete m[u][e.i],"removeEventListener"in t&&t.removeEventListener(s(e.e),e.proxy,o(e,c))})})}function u(e,n){return(n||!e.isDefaultPrevented)&&(n||(n=e),t.each(k,function(t,r){var i=n[t];e[t]=function(){return this[r]=w,i&&i.apply(n,arguments)},e[r]=E}),(n.defaultPrevented!==d?n.defaultPrevented:"returnValue"in n?n.returnValue===!1:n.getPreventDefault&&n.getPreventDefault())&&(e.isDefaultPrevented=w)),e}function l(t){var e,n={originalEvent:t};for(e in t)x.test(e)||t[e]===d||(n[e]=t[e]);return u(n,t)}var d,h=1,f=Array.prototype.slice,p=t.isFunction,v=function(t){return"string"==typeof t},m={},g={},b="onfocusin"in window,y={focus:"focusin",blur:"focusout"},_={mouseenter:"mouseover",mouseleave:"mouseout"};g.click=g.mousedown=g.mouseup=g.mousemove="MouseEvents",t.event={add:a,remove:c},t.proxy=function(n,r){if(p(n)){var i=function(){return n.apply(r,arguments)};return i._zid=e(n),i}if(v(r))return t.proxy(n[r],n);throw new TypeError("expected function")},t.fn.bind=function(t,e,n){return this.on(t,e,n)},t.fn.unbind=function(t,e){return this.off(t,e)},t.fn.one=function(t,e,n,r){return this.on(t,e,n,r,1)};var w=function(){return!0},E=function(){return!1},x=/^([A-Z]|returnValue$|layer[XY]$)/,k={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};t.fn.delegate=function(t,e,n){return this.on(e,t,n)},t.fn.undelegate=function(t,e,n){return this.off(e,t,n)},t.fn.live=function(e,n){return t(document.body).delegate(this.selector,e,n),this},t.fn.die=function(e,n){return t(document.body).undelegate(this.selector,e,n),this},t.fn.on=function(e,n,r,i,o){var s,u,h=this;return e&&!v(e)?(t.each(e,function(t,e){h.on(t,n,r,e,o)}),h):(v(n)||p(i)||i===!1||(i=r,r=n,n=d),(p(r)||r===!1)&&(i=r,r=d),i===!1&&(i=E),h.each(function(d,h){o&&(s=function(t){return c(h,t.type,i),i.apply(this,arguments)}),n&&(u=function(e){var r,o=t(e.target).closest(n,h).get(0);return o&&o!==h?(r=t.extend(l(e),{currentTarget:o,liveFired:h}),(s||i).apply(o,[r].concat(f.call(arguments,1)))):void 0}),a(h,e,i,r,n,u||s)}))},t.fn.off=function(e,n,r){var i=this;return e&&!v(e)?(t.each(e,function(t,e){i.off(t,n,e)}),i):(v(n)||p(r)||r===!1||(r=n,n=d),r===!1&&(r=E),i.each(function(){c(this,e,r,n)}))},t.fn.trigger=function(e,n){return e=v(e)||t.isPlainObject(e)?t.Event(e):u(e),e._args=n,this.each(function(){"dispatchEvent"in this?this.dispatchEvent(e):t(this).triggerHandler(e,n)})},t.fn.triggerHandler=function(e,r){var i,o;return this.each(function(s,a){i=l(v(e)?t.Event(e):e),i._args=r,i.target=a,t.each(n(a,e.type||e),function(t,e){return o=e.proxy(i),i.isImmediatePropagationStopped()?!1:void 0})}),o},"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(e){t.fn[e]=function(t){return t?this.bind(e,t):this.trigger(e)}}),["focus","blur"].forEach(function(e){t.fn[e]=function(t){return t?this.bind(e,t):this.each(function(){try{this[e]()}catch(t){}}),this}}),t.Event=function(t,e){v(t)||(e=t,t=e.type);var n=document.createEvent(g[t]||"Events"),r=!0;if(e)for(var i in e)"bubbles"==i?r=!!e[i]:n[i]=e[i];return n.initEvent(t,r,!0),u(n)}}(Zepto),function(t){function e(e,n,r){var i=t.Event(n);return t(e).trigger(i,r),!i.isDefaultPrevented()}function n(t,n,r,i){return t.global?e(n||b,r,i):void 0}function r(e){e.global&&0===t.active++&&n(e,null,"ajaxStart")}function i(e){e.global&&!--t.active&&n(e,null,"ajaxStop")}function o(t,e){var r=e.context;return e.beforeSend.call(r,t,e)===!1||n(e,r,"ajaxBeforeSend",[t,e])===!1?!1:void n(e,r,"ajaxSend",[t,e])}function s(t,e,r,i){var o=r.context,s="success";r.success.call(o,t,s,e),i&&i.resolveWith(o,[t,s,e]),n(r,o,"ajaxSuccess",[e,r,t]),c(s,e,r)}function a(t,e,r,i,o){var s=i.context;i.error.call(s,r,e,t),o&&o.rejectWith(s,[r,e,t]),n(i,s,"ajaxError",[r,i,t||e]),c(e,r,i)}function c(t,e,r){var o=r.context;r.complete.call(o,e,t),n(r,o,"ajaxComplete",[e,r]),i(r)}function u(){}function l(t){return t&&(t=t.split(";",2)[0]),t&&(t==x?"html":t==E?"json":_.test(t)?"script":w.test(t)&&"xml")||"text"}function d(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function h(e){e.processData&&e.data&&"string"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=d(e.url,e.data),e.data=void 0)}function f(e,n,r,i){return t.isFunction(n)&&(i=r,r=n,n=void 0),t.isFunction(r)||(i=r,r=void 0),{url:e,data:n,success:r,dataType:i}}function p(e,n,r,i){var o,s=t.isArray(n),a=t.isPlainObject(n);t.each(n,function(n,c){o=t.type(c),i&&(n=r?i:i+"["+(a||"object"==o||"array"==o?n:"")+"]"),!i&&s?e.add(c.name,c.value):"array"==o||!r&&"object"==o?p(e,c,r,n):e.add(n,c)})}var v,m,g=0,b=window.document,y=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,_=/^(?:text|application)\/javascript/i,w=/^(?:text|application)\/xml/i,E="application/json",x="text/html",k=/^\s*$/;t.active=0,t.ajaxJSONP=function(e,n){if(!("type"in e))return t.ajax(e);var r,i,c=e.jsonpCallback,u=(t.isFunction(c)?c():c)||"jsonp"+ ++g,l=b.createElement("script"),d=window[u],h=function(e){t(l).triggerHandler("error",e||"abort")},f={abort:h};return n&&n.promise(f),t(l).on("load error",function(o,c){clearTimeout(i),t(l).off().remove(),"error"!=o.type&&r?s(r[0],f,e,n):a(null,c||"error",f,e,n),window[u]=d,r&&t.isFunction(d)&&d(r[0]),d=r=void 0}),o(f,e)===!1?(h("abort"),f):(window[u]=function(){r=arguments},l.src=e.url.replace(/\?(.+)=\?/,"?$1="+u),b.head.appendChild(l),e.timeout>0&&(i=setTimeout(function(){h("timeout")},e.timeout)),f)},t.ajaxSettings={type:"GET",beforeSend:u,success:u,error:u,complete:u,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:E,xml:"application/xml, text/xml",html:x,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},t.ajax=function(e){var n=t.extend({},e||{}),i=t.Deferred&&t.Deferred();for(v in t.ajaxSettings)void 0===n[v]&&(n[v]=t.ajaxSettings[v]);r(n),n.crossDomain||(n.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(n.url)&&RegExp.$2!=window.location.host),n.url||(n.url=window.location.toString()),h(n),n.cache===!1&&(n.url=d(n.url,"_="+Date.now()));var c=n.dataType,f=/\?.+=\?/.test(n.url);if("jsonp"==c||f)return f||(n.url=d(n.url,n.jsonp?n.jsonp+"=?":n.jsonp===!1?"":"callback=?")),t.ajaxJSONP(n,i);var p,g=n.accepts[c],b={},y=function(t,e){b[t.toLowerCase()]=[t,e]},_=/^([\w-]+:)\/\//.test(n.url)?RegExp.$1:window.location.protocol,w=n.xhr(),E=w.setRequestHeader;if(i&&i.promise(w),n.crossDomain||y("X-Requested-With","XMLHttpRequest"),y("Accept",g||"*/*"),(g=n.mimeType||g)&&(g.indexOf(",")>-1&&(g=g.split(",",2)[0]),w.overrideMimeType&&w.overrideMimeType(g)),(n.contentType||n.contentType!==!1&&n.data&&"GET"!=n.type.toUpperCase())&&y("Content-Type",n.contentType||"application/x-www-form-urlencoded"),n.headers)for(m in n.headers)y(m,n.headers[m]);if(w.setRequestHeader=y,w.onreadystatechange=function(){if(4==w.readyState){w.onreadystatechange=u,clearTimeout(p);var e,r=!1;if(w.status>=200&&w.status<300||304==w.status||0==w.status&&"file:"==_){c=c||l(n.mimeType||w.getResponseHeader("content-type")),e=w.responseText;try{"script"==c?(1,eval)(e):"xml"==c?e=w.responseXML:"json"==c&&(e=k.test(e)?null:t.parseJSON(e))}catch(o){r=o}r?a(r,"parsererror",w,n,i):s(e,w,n,i)}else a(w.statusText||null,w.status?"error":"abort",w,n,i)}},o(w,n)===!1)return w.abort(),a(null,"abort",w,n,i),w;if(n.xhrFields)for(m in n.xhrFields)w[m]=n.xhrFields[m];var x="async"in n?n.async:!0;w.open(n.type,n.url,x,n.username,n.password);for(m in b)E.apply(w,b[m]);return n.timeout>0&&(p=setTimeout(function(){w.onreadystatechange=u,w.abort(),a(null,"timeout",w,n,i)},n.timeout)),w.send(n.data?n.data:null),w},t.get=function(){return t.ajax(f.apply(null,arguments))},t.post=function(){var e=f.apply(null,arguments);return e.type="POST",t.ajax(e)},t.getJSON=function(){var e=f.apply(null,arguments);return e.dataType="json",t.ajax(e)},t.fn.load=function(e,n,r){if(!this.length)return this;var i,o=this,s=e.split(/\s/),a=f(e,n,r),c=a.success;return s.length>1&&(a.url=s[0],i=s[1]),a.success=function(e){o.html(i?t("<div>").html(e.replace(y,"")).find(i):e),c&&c.apply(o,arguments)},t.ajax(a),this};var C=encodeURIComponent;t.param=function(t,e){var n=[];return n.add=function(t,e){this.push(C(t)+"="+C(e))},p(n,t,e),n.join("&").replace(/%20/g,"+")}}(Zepto),function(t){t.fn.serializeArray=function(){var e,n=[];return t([].slice.call(this.get(0).elements)).each(function(){e=t(this);var r=e.attr("type");"fieldset"!=this.nodeName.toLowerCase()&&!this.disabled&&"submit"!=r&&"reset"!=r&&"button"!=r&&("radio"!=r&&"checkbox"!=r||this.checked)&&n.push({name:e.attr("name"),value:e.val()})}),n},t.fn.serialize=function(){var t=[];return this.serializeArray().forEach(function(e){t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))
}),t.join("&")},t.fn.submit=function(e){if(e)this.bind("submit",e);else if(this.length){var n=t.Event("submit");this.eq(0).trigger(n),n.isDefaultPrevented()||this.get(0).submit()}return this}}(Zepto),function(t){"__proto__"in{}||t.extend(t.zepto,{Z:function(e,n){return e=e||[],t.extend(e,t.fn),e.selector=n||"",e.__Z=!0,e},isZ:function(e){return"array"===t.type(e)&&"__Z"in e}});try{getComputedStyle(void 0)}catch(e){var n=getComputedStyle;window.getComputedStyle=function(t){try{return n(t)}catch(e){return null}}}}(Zepto),function(){var t,e,n,r,i=function(t,e){return function(){return t.apply(e,arguments)}},o=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},s=[].slice,a={}.hasOwnProperty,c=function(t,e){function n(){this.constructor=t}for(var r in e)a.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};t={binders:{},components:{},formatters:{},adapters:{},config:{prefix:"rv",templateDelimiters:["{","}"],rootInterface:".",preloadData:!0,handler:function(t,e,n){return this.call(t,e,n.view.models)}}},"jQuery"in window?(r="on"in jQuery.prototype?["on","off"]:["bind","unbind"],e=r[0],n=r[1],t.Util={bindEvent:function(t,n,r){return jQuery(t)[e](n,r)},unbindEvent:function(t,e,r){return jQuery(t)[n](e,r)},getInputValue:function(t){var e;return e=jQuery(t),"checkbox"===e.attr("type")?e.is(":checked"):e.val()}}):t.Util={bindEvent:function(){return"addEventListener"in window?function(t,e,n){return t.addEventListener(e,n,!1)}:function(t,e,n){return t.attachEvent("on"+e,n)}}(),unbindEvent:function(){return"removeEventListener"in window?function(t,e,n){return t.removeEventListener(e,n,!1)}:function(t,e,n){return t.detachEvent("on"+e,n)}}(),getInputValue:function(t){var e,n,r,i;if("checkbox"===t.type)return t.checked;if("select-multiple"===t.type){for(i=[],n=0,r=t.length;r>n;n++)e=t[n],e.selected&&i.push(e.value);return i}return t.value}},t.View=function(){function e(e,n,r){var o,s,a,c,u,l,d,h,f;for(this.els=e,this.models=n,this.options=null!=r?r:{},this.update=i(this.update,this),this.publish=i(this.publish,this),this.sync=i(this.sync,this),this.unbind=i(this.unbind,this),this.bind=i(this.bind,this),this.select=i(this.select,this),this.build=i(this.build,this),this.componentRegExp=i(this.componentRegExp,this),this.bindingRegExp=i(this.bindingRegExp,this),this.els.jquery||this.els instanceof Array||(this.els=[this.els]),d=["config","binders","formatters","adapters"],u=0,l=d.length;l>u;u++){if(s=d[u],this[s]={},this.options[s]){h=this.options[s];for(o in h)a=h[o],this[s][o]=a}f=t[s];for(o in f)a=f[o],null==(c=this[s])[o]&&(c[o]=a)}this.build()}return e.prototype.bindingRegExp=function(){return new RegExp("^"+this.config.prefix+"-")},e.prototype.componentRegExp=function(){return new RegExp("^"+this.config.prefix.toUpperCase()+"-")},e.prototype.build=function(){var e,n,r,i,s,a,c,u,l,d=this;for(this.bindings=[],a=[],e=this.bindingRegExp(),r=this.componentRegExp(),n=function(e,n,r,i){var o,s,a,c,u,l,h;return u={},h=function(){var t,e,n,r;for(n=i.split("|"),r=[],t=0,e=n.length;e>t;t++)l=n[t],r.push(l.trim());return r}(),o=function(){var t,e,n,r;for(n=h.shift().split("<"),r=[],t=0,e=n.length;e>t;t++)s=n[t],r.push(s.trim());return r}(),c=o.shift(),u.formatters=h,(a=o.shift())&&(u.dependencies=a.split(/\s+/)),d.bindings.push(new t[e](d,n,r,c,u))},s=function(i){var c,u,l,h,f,p,v,m,g,b,y,_,w,E,x,k,C,T,L,S,O,N,M,j,A,D,P,I,R,F;if(o.call(a,i)<0){if(3===i.nodeType){if(m=t.TextTemplateParser,(f=d.config.templateDelimiters)&&(_=m.parse(i.data,f)).length&&(1!==_.length||_[0].type!==m.types.text)){for(x=0,L=_.length;L>x;x++)y=_[x],b=document.createTextNode(y.value),i.parentNode.insertBefore(b,i),1===y.type&&n("TextBinding",b,null,y.value);i.parentNode.removeChild(i)}}else if(r.test(i.tagName))w=i.tagName.replace(r,"").toLowerCase(),d.bindings.push(new t.ComponentBinding(d,i,w));else if(null!=i.attributes){for(A=i.attributes,k=0,S=A.length;S>k;k++)if(c=A[k],e.test(c.name)){if(w=c.name.replace(e,""),!(l=d.binders[w])){D=d.binders;for(p in D)E=D[p],"*"!==p&&-1!==p.indexOf("*")&&(g=new RegExp("^"+p.replace("*",".+")+"$"),g.test(w)&&(l=E))}if(l||(l=d.binders["*"]),l.block){for(P=i.childNodes,C=0,O=P.length;O>C;C++)v=P[C],a.push(v);u=[c]}}for(I=u||i.attributes,T=0,N=I.length;N>T;T++)c=I[T],e.test(c.name)&&(w=c.name.replace(e,""),n("Binding",i,w,c.value))}for(R=function(){var t,e,n,r;for(n=i.childNodes,r=[],e=0,t=n.length;t>e;e++)v=n[e],r.push(v);return r}(),F=[],j=0,M=R.length;M>j;j++)h=R[j],F.push(s(h));return F}},l=this.els,c=0,u=l.length;u>c;c++)i=l[c],s(i)},e.prototype.select=function(t){var e,n,r,i,o;for(i=this.bindings,o=[],n=0,r=i.length;r>n;n++)e=i[n],t(e)&&o.push(e);return o},e.prototype.bind=function(){var t,e,n,r,i;for(r=this.bindings,i=[],e=0,n=r.length;n>e;e++)t=r[e],i.push(t.bind());return i},e.prototype.unbind=function(){var t,e,n,r,i;for(r=this.bindings,i=[],e=0,n=r.length;n>e;e++)t=r[e],i.push(t.unbind());return i},e.prototype.sync=function(){var t,e,n,r,i;for(r=this.bindings,i=[],e=0,n=r.length;n>e;e++)t=r[e],i.push(t.sync());return i},e.prototype.publish=function(){var t,e,n,r,i;for(r=this.select(function(t){return t.binder.publishes}),i=[],e=0,n=r.length;n>e;e++)t=r[e],i.push(t.publish());return i},e.prototype.update=function(t){var e,n,r,i,o,s,a;null==t&&(t={});for(n in t)r=t[n],this.models[n]=r;for(s=this.bindings,a=[],i=0,o=s.length;o>i;i++)e=s[i],a.push(e.update(t));return a},e}(),t.Binding=function(){function e(t,e,n,r,o){this.view=t,this.el=e,this.type=n,this.keypath=r,this.options=null!=o?o:{},this.update=i(this.update,this),this.unbind=i(this.unbind,this),this.bind=i(this.bind,this),this.publish=i(this.publish,this),this.sync=i(this.sync,this),this.set=i(this.set,this),this.eventHandler=i(this.eventHandler,this),this.formattedValue=i(this.formattedValue,this),this.setBinder=i(this.setBinder,this),this.formatters=this.options.formatters||[],this.dependencies=[],this.model=void 0,this.setBinder()}return e.prototype.setBinder=function(){var t,e,n,r;if(!(this.binder=this.view.binders[this.type])){r=this.view.binders;for(t in r)n=r[t],"*"!==t&&-1!==t.indexOf("*")&&(e=new RegExp("^"+t.replace("*",".+")+"$"),e.test(this.type)&&(this.binder=n,this.args=new RegExp("^"+t.replace("*","(.+)")+"$").exec(this.type),this.args.shift()))}return this.binder||(this.binder=this.view.binders["*"]),this.binder instanceof Function?this.binder={routine:this.binder}:void 0},e.prototype.formattedValue=function(t){var e,n,r,i,o,a;for(a=this.formatters,i=0,o=a.length;o>i;i++)n=a[i],e=n.split(/\s+/),r=e.shift(),n=this.view.formatters[r],(null!=n?n.read:void 0)instanceof Function?t=n.read.apply(n,[t].concat(s.call(e))):n instanceof Function&&(t=n.apply(null,[t].concat(s.call(e))));return t},e.prototype.eventHandler=function(t){var e,n;return n=(e=this).view.config.handler,function(r){return n.call(t,this,r,e)}},e.prototype.set=function(t){var e;return t=this.formattedValue(t instanceof Function&&!this.binder["function"]?t.call(this.model):t),null!=(e=this.binder.routine)?e.call(this,this.el,t):void 0},e.prototype.sync=function(){var e,n,r,i,o,s,a,c,u;if(this.model!==this.observer.target){for(a=this.dependencies,r=0,o=a.length;o>r;r++)n=a[r],n.unobserve();if(this.dependencies=[],null!=(this.model=this.observer.target)&&(null!=(c=this.options.dependencies)?c.length:void 0))for(u=this.options.dependencies,i=0,s=u.length;s>i;i++)e=u[i],n=new t.Observer(this.view,this.model,e,this.sync),this.dependencies.push(n)}return this.set(this.observer.value())},e.prototype.publish=function(){var e,n,r,i,o,a,c,u,l;for(i=t.Util.getInputValue(this.el),c=this.formatters.slice(0).reverse(),o=0,a=c.length;a>o;o++)n=c[o],e=n.split(/\s+/),r=e.shift(),(null!=(u=this.view.formatters[r])?u.publish:void 0)&&(i=(l=this.view.formatters[r]).publish.apply(l,[i].concat(s.call(e))));return this.observer.publish(i)},e.prototype.bind=function(){var e,n,r,i,o,s,a;if(null!=(o=this.binder.bind)&&o.call(this,this.el),this.observer=new t.Observer(this.view,this.view.models,this.keypath,this.sync),this.model=this.observer.target,null!=this.model&&(null!=(s=this.options.dependencies)?s.length:void 0))for(a=this.options.dependencies,r=0,i=a.length;i>r;r++)e=a[r],n=new t.Observer(this.view,this.model,e,this.sync),this.dependencies.push(n);return this.view.config.preloadData?this.sync():void 0},e.prototype.unbind=function(){var t,e,n,r,i;for(null!=(r=this.binder.unbind)&&r.call(this,this.el),this.observer.unobserve(),i=this.dependencies,e=0,n=i.length;n>e;e++)t=i[e],t.unobserve();return this.dependencies=[]},e.prototype.update=function(t){var e;return null==t&&(t={}),this.model=this.observer.target,null!=(e=this.binder.update)?e.call(this,t):void 0},e}(),t.ComponentBinding=function(e){function n(e,n,r){var s,a,c,u,l;for(this.view=e,this.el=n,this.type=r,this.unbind=i(this.unbind,this),this.bind=i(this.bind,this),this.update=i(this.update,this),this.locals=i(this.locals,this),this.component=t.components[this.type],this.attributes={},this.inflections={},u=this.el.attributes||[],a=0,c=u.length;c>a;a++)s=u[a],l=s.name,o.call(this.component.attributes,l)>=0?this.attributes[s.name]=s.value:this.inflections[s.name]=s.value}return c(n,e),n.prototype.sync=function(){},n.prototype.locals=function(t){var e,n,r,i,o,s,a,c,u;null==t&&(t=this.view.models),o={},c=this.inflections;for(n in c)for(e=c[n],u=e.split("."),s=0,a=u.length;a>s;s++)i=u[s],o[n]=(o[n]||t)[i];for(n in t)r=t[n],null==o[n]&&(o[n]=r);return o},n.prototype.update=function(t){var e;return null!=(e=this.componentView)?e.update(this.locals(t)):void 0},n.prototype.bind=function(){var e,n;return null!=this.componentView?null!=(n=this.componentView)?n.bind():void 0:(e=this.component.build.call(this.attributes),(this.componentView=new t.View(e,this.locals(),this.view.options)).bind(),this.el.parentNode.replaceChild(e,this.el))},n.prototype.unbind=function(){var t;return null!=(t=this.componentView)?t.unbind():void 0},n}(t.Binding),t.TextBinding=function(t){function e(t,e,n,r,o){this.view=t,this.el=e,this.type=n,this.keypath=r,this.options=null!=o?o:{},this.sync=i(this.sync,this),this.formatters=this.options.formatters||[],this.dependencies=[]}return c(e,t),e.prototype.binder={routine:function(t,e){return t.data=null!=e?e:""}},e.prototype.sync=function(){return e.__super__.sync.apply(this,arguments)},e}(t.Binding),t.KeypathParser=function(){function t(){}return t.parse=function(t,e,n){var r,i,s,a,c,u;for(a=[],i={"interface":n,path:""},s=c=0,u=t.length;u>c;s=c+=1)r=t.charAt(s),o.call(e,r)>=0?(a.push(i),i={"interface":r,path:""}):i.path+=r;return a.push(i),a},t}(),t.TextTemplateParser=function(){function t(){}return t.types={text:0,binding:1},t.parse=function(t,e){var n,r,i,o,s,a,c;for(a=[],o=t.length,n=0,r=0;o>r;){if(n=t.indexOf(e[0],r),0>n){a.push({type:this.types.text,value:t.slice(r)});break}if(n>0&&n>r&&a.push({type:this.types.text,value:t.slice(r,n)}),r=n+e[0].length,n=t.indexOf(e[1],r),0>n){s=t.slice(r-e[1].length),i=a[a.length-1],(null!=i?i.type:void 0)===this.types.text?i.value+=s:a.push({type:this.types.text,value:s});break}c=t.slice(r,n).trim(),a.push({type:this.types.binding,value:c}),r=n+e[1].length}return a},t}(),t.Observer=function(){function e(t,e,n,r){this.view=t,this.model=e,this.keypath=n,this.callback=r,this.unobserve=i(this.unobserve,this),this.realize=i(this.realize,this),this.value=i(this.value,this),this.publish=i(this.publish,this),this.read=i(this.read,this),this.set=i(this.set,this),this.adapter=i(this.adapter,this),this.update=i(this.update,this),this.initialize=i(this.initialize,this),this.parse=i(this.parse,this),this.parse(),this.initialize()}return e.prototype.parse=function(){var e,n,r,i,s,a;return e=function(){var t,e;t=this.view.adapters,e=[];for(n in t)s=t[n],e.push(n);return e}.call(this),a=this.keypath[0],o.call(e,a)>=0?(i=this.keypath[0],r=this.keypath.substr(1)):(i=this.view.config.rootInterface,r=this.keypath),this.tokens=t.KeypathParser.parse(r,e,i),this.key=this.tokens.pop()},e.prototype.initialize=function(){return this.objectPath=[],this.target=this.realize(),null!=this.target?this.set(!0,this.key,this.target,this.callback):void 0},e.prototype.update=function(){var t,e;return(t=this.realize())!==this.target&&(null!=this.target&&this.set(!1,this.key,this.target,this.callback),null!=t&&this.set(!0,this.key,t,this.callback),e=this.value(),this.target=t,this.value()!==e)?this.callback():void 0},e.prototype.adapter=function(t){return this.view.adapters[t["interface"]]},e.prototype.set=function(t,e,n,r){var i;return i=t?"subscribe":"unsubscribe",this.adapter(e)[i](n,e.path,r)},e.prototype.read=function(t,e){return this.adapter(t).read(e,t.path)},e.prototype.publish=function(t){return null!=this.target?this.adapter(this.key).publish(this.target,this.key.path,t):void 0},e.prototype.value=function(){return null!=this.target?this.read(this.key,this.target):void 0},e.prototype.realize=function(){var t,e,n,r,i,o,s,a;for(t=this.model,i=null,a=this.tokens,e=o=0,s=a.length;s>o;e=++o)r=a[e],null!=t?(null!=this.objectPath[e]?t!==(n=this.objectPath[e])&&(this.set(!1,r,n,this.update),this.set(!0,r,t,this.update),this.objectPath[e]=t):(this.set(!0,r,t,this.update),this.objectPath[e]=t),t=this.read(r,t)):(null==i&&(i=e),(n=this.objectPath[e])&&this.set(!1,r,n,this.update));return null!=i&&this.objectPath.splice(i),t},e.prototype.unobserve=function(){var t,e,n,r,i,o;for(o=this.tokens,t=r=0,i=o.length;i>r;t=++r)n=o[t],(e=this.objectPath[t])&&this.set(!1,n,e,this.update);return null!=this.target?this.set(!1,this.key,this.target,this.callback):void 0},e}(),t.binders.text=function(t,e){return null!=t.textContent?t.textContent=null!=e?e:"":t.innerText=null!=e?e:""},t.binders.html=function(t,e){return t.innerHTML=null!=e?e:""},t.binders.show=function(t,e){return t.style.display=e?"":"none"},t.binders.hide=function(t,e){return t.style.display=e?"none":""},t.binders.enabled=function(t,e){return t.disabled=!e},t.binders.disabled=function(t,e){return t.disabled=!!e},t.binders.checked={publishes:!0,bind:function(e){return t.Util.bindEvent(e,"change",this.publish)},unbind:function(e){return t.Util.unbindEvent(e,"change",this.publish)},routine:function(t,e){var n;return t.checked="radio"===t.type?(null!=(n=t.value)?n.toString():void 0)===(null!=e?e.toString():void 0):!!e}},t.binders.unchecked={publishes:!0,bind:function(e){return t.Util.bindEvent(e,"change",this.publish)},unbind:function(e){return t.Util.unbindEvent(e,"change",this.publish)},routine:function(t,e){var n;return t.checked="radio"===t.type?(null!=(n=t.value)?n.toString():void 0)!==(null!=e?e.toString():void 0):!e}},t.binders.value={publishes:!0,bind:function(e){return t.Util.bindEvent(e,"change",this.publish)},unbind:function(e){return t.Util.unbindEvent(e,"change",this.publish)},routine:function(t,e){var n,r,i,s,a,c,u;if(null!=window.jQuery){if(t=jQuery(t),(null!=e?e.toString():void 0)!==(null!=(s=t.val())?s.toString():void 0))return t.val(null!=e?e:"")}else if("select-multiple"===t.type){if(null!=e){for(u=[],r=0,i=t.length;i>r;r++)n=t[r],u.push(n.selected=(a=n.value,o.call(e,a)>=0));return u}}else if((null!=e?e.toString():void 0)!==(null!=(c=t.value)?c.toString():void 0))return t.value=null!=e?e:""}},t.binders["if"]={block:!0,bind:function(t){var e,n;return null==this.marker?(e=[this.view.config.prefix,this.type].join("-").replace("--","-"),n=t.getAttribute(e),this.marker=document.createComment(" rivets: "+this.type+" "+n+" "),t.removeAttribute(e),t.parentNode.insertBefore(this.marker,t),t.parentNode.removeChild(t)):void 0},unbind:function(){var t;return null!=(t=this.nested)?t.unbind():void 0},routine:function(e,n){var r,i,o,s,a;if(!!n==(null==this.nested)){if(n){o={},a=this.view.models;for(r in a)i=a[r],o[r]=i;return s={binders:this.view.options.binders,formatters:this.view.options.formatters,adapters:this.view.options.adapters,config:this.view.options.config},(this.nested=new t.View(e,o,s)).bind(),this.marker.parentNode.insertBefore(e,this.marker.nextSibling)}return e.parentNode.removeChild(e),void this.nested.unbind()}},update:function(t){var e;return null!=(e=this.nested)?e.update(t):void 0}},t.binders.unless={block:!0,bind:function(e){return t.binders["if"].bind.call(this,e)},unbind:function(){return t.binders["if"].unbind.call(this)},routine:function(e,n){return t.binders["if"].routine.call(this,e,!n)},update:function(e){return t.binders["if"].update.call(this,e)}},t.binders["on-*"]={"function":!0,unbind:function(e){return this.handler?t.Util.unbindEvent(e,this.args[0],this.handler):void 0},routine:function(e,n){return this.handler&&t.Util.unbindEvent(e,this.args[0],this.handler),t.Util.bindEvent(e,this.args[0],this.handler=this.eventHandler(n))}},t.binders["each-*"]={block:!0,bind:function(t){var e;return null==this.marker?(e=[this.view.config.prefix,this.type].join("-").replace("--","-"),this.marker=document.createComment(" rivets: "+this.type+" "),this.iterated=[],t.removeAttribute(e),t.parentNode.insertBefore(this.marker,t),t.parentNode.removeChild(t)):void 0},unbind:function(){var t,e,n,r,i;if(null!=this.iterated){for(r=this.iterated,i=[],e=0,n=r.length;n>e;e++)t=r[e],i.push(t.unbind());return i}},routine:function(e,n){var r,i,o,s,a,c,u,l,d,h,f,p,v,m,g,b,y,_,w,E,x,k,C,T;if(l=this.args[0],n=n||[],this.iterated.length>n.length)for(E=Array(this.iterated.length-n.length),m=0,y=E.length;y>m;m++)o=E[m],v=this.iterated.pop(),v.unbind(),this.marker.parentNode.removeChild(v.els[0]);for(s=g=0,_=n.length;_>g;s=++g)if(u=n[s],i={index:s},i[l]=u,null==this.iterated[s]){x=this.view.models;for(c in x)u=x[c],null==i[c]&&(i[c]=u);h=this.iterated.length?this.iterated[this.iterated.length-1].els[0]:this.marker,d={binders:this.view.options.binders,formatters:this.view.options.formatters,adapters:this.view.options.adapters,config:{}},k=this.view.options.config;for(a in k)p=k[a],d.config[a]=p;d.config.preloadData=!0,f=e.cloneNode(!0),v=new t.View(f,i,d),v.bind(),this.iterated.push(v),this.marker.parentNode.insertBefore(f,h.nextSibling)}else this.iterated[s].models[l]!==u&&this.iterated[s].update(i);if("OPTION"===e.nodeName){for(C=this.view.bindings,T=[],b=0,w=C.length;w>b;b++)r=C[b],T.push(r.el===this.marker.parentNode&&"value"===r.type?r.sync():void 0);return T}},update:function(t){var e,n,r,i,o,s,a,c;e={};for(n in t)r=t[n],n!==this.args[0]&&(e[n]=r);for(a=this.iterated,c=[],o=0,s=a.length;s>o;o++)i=a[o],c.push(i.update(e));return c}},t.binders["class-*"]=function(t,e){var n;return n=" "+t.className+" ",!e==(-1!==n.indexOf(" "+this.args[0]+" "))?t.className=e?""+t.className+" "+this.args[0]:n.replace(" "+this.args[0]+" "," ").trim():void 0},t.binders["*"]=function(t,e){return null!=e?t.setAttribute(this.type,e):t.removeAttribute(this.type)},t.adapters["."]={id:"_rv",counter:0,weakmap:{},weakReference:function(t){var e;return null==t[this.id]&&(e=this.counter++,this.weakmap[e]={callbacks:{}},Object.defineProperty(t,this.id,{value:e})),this.weakmap[t[this.id]]},stubFunction:function(t,e){var n,r,i;return r=t[e],n=this.weakReference(t),i=this.weakmap,t[e]=function(){var e,o,s,a,c,u,l,d,h,f;a=r.apply(t,arguments),l=n.pointers;for(s in l)for(o=l[s],f=null!=(d=null!=(h=i[s])?h.callbacks[o]:void 0)?d:[],c=0,u=f.length;u>c;c++)(e=f[c])();return a}},observeMutations:function(t,e,n){var r,i,s,a,c,u;if(Array.isArray(t)){if(s=this.weakReference(t),null==s.pointers)for(s.pointers={},i=["push","pop","shift","unshift","sort","reverse","splice"],c=0,u=i.length;u>c;c++)r=i[c],this.stubFunction(t,r);if(null==(a=s.pointers)[e]&&(a[e]=[]),o.call(s.pointers[e],n)<0)return s.pointers[e].push(n)}},unobserveMutations:function(t,e,n){var r,i;return Array.isArray(t&&null!=t[this.id])&&(r=null!=(i=this.weakReference(t).pointers)?i[e]:void 0)?r.splice(r.indexOf(n),1):void 0},subscribe:function(t,e,n){var r,i,s=this;return r=this.weakReference(t).callbacks,null==r[e]&&(r[e]=[],i=t[e],Object.defineProperty(t,e,{enumerable:!0,get:function(){return i},set:function(o){var a,c,u;if(o!==i){for(i=o,u=r[e],a=0,c=u.length;c>a;a++)(n=u[a])();return s.observeMutations(o,t[s.id],e)}}})),o.call(r[e],n)<0&&r[e].push(n),this.observeMutations(t[e],t[this.id],e)},unsubscribe:function(t,e,n){var r;return r=this.weakmap[t[this.id]].callbacks[e],r.splice(r.indexOf(n),1),this.unobserveMutations(t[e],t[this.id],e)},read:function(t,e){return t[e]},publish:function(t,e,n){return t[e]=n}},t.factory=function(e){return e._=t,e.binders=t.binders,e.components=t.components,e.formatters=t.formatters,e.adapters=t.adapters,e.config=t.config,e.configure=function(e){var n,r;null==e&&(e={});for(n in e)r=e[n],t.config[n]=r},e.bind=function(e,n,r){var i;return null==n&&(n={}),null==r&&(r={}),i=new t.View(e,n,r),i.bind(),i}},"object"==typeof exports?t.factory(exports):"function"==typeof define&&define.amd?define(["exports"],function(e){return t.factory(this.rivets=e),e}):t.factory(this.rivets={})}.call(this),window.Platform={};var logFlags={};!function(){function t(t){if(this._element=t,t.className!=this._classCache){if(this._classCache=t.className,!this._classCache)return;var e,n=this._classCache.replace(/^\s+|\s+$/g,"").split(/\s+/);for(e=0;e<n.length;e++)s.call(this,n[e])}}function e(t,e){t.className=e.join(" ")}function n(t,e,n){Object.defineProperty?Object.defineProperty(t,e,{get:n}):t.__defineGetter__(e,n)}if(!("undefined"==typeof window.Element||"classList"in document.documentElement)){var r=Array.prototype,i=r.indexOf,o=r.slice,s=r.push,a=r.splice,c=r.join;t.prototype={add:function(t){this.contains(t)||(s.call(this,t),e(this._element,o.call(this,0)))},contains:function(t){return-1!==i.call(this,t)},item:function(t){return this[t]||null},remove:function(t){var n=i.call(this,t);-1!==n&&(a.call(this,n,1),e(this._element,o.call(this,0)))},toString:function(){return c.call(this," ")},toggle:function(t){-1===i.call(this,t)?this.add(t):this.remove(t)}},window.DOMTokenList=t,n(Element.prototype,"classList",function(){return new t(this)})}}(),"undefined"==typeof WeakMap&&!function(){var t=Object.defineProperty,e=Date.now()%1e9,n=function(){this.name="__st"+(1e9*Math.random()>>>0)+(e++ +"__")};n.prototype={set:function(e,n){var r=e[this.name];r&&r[0]===e?r[1]=n:t(e,this.name,{value:[e,n],writable:!0})},get:function(t){var e;return(e=t[this.name])&&e[0]===t?e[1]:void 0},"delete":function(t){this.set(t,void 0)}},window.WeakMap=n}(),function(t){function e(t){_.push(t),y||(y=!0,m(r))}function n(t){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(t)||t}function r(){y=!1;var t=_;_=[],t.sort(function(t,e){return t.uid_-e.uid_});var e=!1;t.forEach(function(t){var n=t.takeRecords();i(t),n.length&&(t.callback_(n,t),e=!0)}),e&&r()}function i(t){t.nodes_.forEach(function(e){var n=v.get(e);n&&n.forEach(function(e){e.observer===t&&e.removeTransientObservers()})})}function o(t,e){for(var n=t;n;n=n.parentNode){var r=v.get(n);if(r)for(var i=0;i<r.length;i++){var o=r[i],s=o.options;if(n===t||s.subtree){var a=e(s);a&&o.enqueue(a)}}}}function s(t){this.callback_=t,this.nodes_=[],this.records_=[],this.uid_=++w}function a(t,e){this.type=t,this.target=e,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function c(t){var e=new a(t.type,t.target);return e.addedNodes=t.addedNodes.slice(),e.removedNodes=t.removedNodes.slice(),e.previousSibling=t.previousSibling,e.nextSibling=t.nextSibling,e.attributeName=t.attributeName,e.attributeNamespace=t.attributeNamespace,e.oldValue=t.oldValue,e}function u(t,e){return E=new a(t,e)}function l(t){return x?x:(x=c(E),x.oldValue=t,x)}function d(){E=x=void 0}function h(t){return t===x||t===E}function f(t,e){return t===e?t:x&&h(t)?x:null}function p(t,e,n){this.observer=t,this.target=e,this.options=n,this.transientObservedNodes=[]}var v=new WeakMap,m=window.msSetImmediate;if(!m){var g=[],b=String(Math.random());window.addEventListener("message",function(t){if(t.data===b){var e=g;g=[],e.forEach(function(t){t()})}}),m=function(t){g.push(t),window.postMessage(b,"*")}}var y=!1,_=[],w=0;s.prototype={observe:function(t,e){if(t=n(t),!e.childList&&!e.attributes&&!e.characterData||e.attributeOldValue&&!e.attributes||e.attributeFilter&&e.attributeFilter.length&&!e.attributes||e.characterDataOldValue&&!e.characterData)throw new SyntaxError;var r=v.get(t);r||v.set(t,r=[]);for(var i,o=0;o<r.length;o++)if(r[o].observer===this){i=r[o],i.removeListeners(),i.options=e;break}i||(i=new p(this,t,e),r.push(i),this.nodes_.push(t)),i.addListeners()},disconnect:function(){this.nodes_.forEach(function(t){for(var e=v.get(t),n=0;n<e.length;n++){var r=e[n];if(r.observer===this){r.removeListeners(),e.splice(n,1);break}}},this),this.records_=[]},takeRecords:function(){var t=this.records_;return this.records_=[],t}};var E,x;p.prototype={enqueue:function(t){var n=this.observer.records_,r=n.length;if(n.length>0){var i=n[r-1],o=f(i,t);if(o)return void(n[r-1]=o)}else e(this.observer);n[r]=t},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(t){var e=this.options;e.attributes&&t.addEventListener("DOMAttrModified",this,!0),e.characterData&&t.addEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.addEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(t){var e=this.options;e.attributes&&t.removeEventListener("DOMAttrModified",this,!0),e.characterData&&t.removeEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.removeEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(t){if(t!==this.target){this.addListeners_(t),this.transientObservedNodes.push(t);var e=v.get(t);e||v.set(t,e=[]),e.push(this)}},removeTransientObservers:function(){var t=this.transientObservedNodes;this.transientObservedNodes=[],t.forEach(function(t){this.removeListeners_(t);for(var e=v.get(t),n=0;n<e.length;n++)if(e[n]===this){e.splice(n,1);break}},this)},handleEvent:function(t){switch(t.stopImmediatePropagation(),t.type){case"DOMAttrModified":var e=t.attrName,n=t.relatedNode.namespaceURI,r=t.target,i=new u("attributes",r);i.attributeName=e,i.attributeNamespace=n;var s=t.attrChange===MutationEvent.ADDITION?null:t.prevValue;o(r,function(t){return!t.attributes||t.attributeFilter&&t.attributeFilter.length&&-1===t.attributeFilter.indexOf(e)&&-1===t.attributeFilter.indexOf(n)?void 0:t.attributeOldValue?l(s):i});break;case"DOMCharacterDataModified":var r=t.target,i=u("characterData",r),s=t.prevValue;o(r,function(t){return t.characterData?t.characterDataOldValue?l(s):i:void 0});break;case"DOMNodeRemoved":this.addTransientObserver(t.target);case"DOMNodeInserted":var a,c,r=t.relatedNode,h=t.target;"DOMNodeInserted"===t.type?(a=[h],c=[]):(a=[],c=[h]);var f=h.previousSibling,p=h.nextSibling,i=u("childList",r);i.addedNodes=a,i.removedNodes=c,i.previousSibling=f,i.nextSibling=p,o(r,function(t){return t.childList?i:void 0})}d()}},t.JsMutationObserver=s,!t.MutationObserver&&t.WebKitMutationObserver&&(t.MutationObserver=t.WebKitMutationObserver),t.MutationObserver||(t.MutationObserver=s)}(this),function(t){function e(e,o){var s=o||{};if(!e)throw new Error("document.registerElement: first argument `name` must not be empty");if(e.indexOf("-")<0)throw new Error("document.registerElement: first argument ('name') must contain a dash ('-'). Argument provided was '"+String(e)+"'.");if(h(e))throw new Error("DuplicateDefinitionError: a type with name '"+String(e)+"' is already registered");if(!s.prototype)throw new Error("Options missing required prototype property");return s.__name=e.toLowerCase(),s.lifecycle=s.lifecycle||{},s.ancestry=n(s.extends),r(s),i(s),l(s.prototype),f(s.__name,s),s.ctor=p(s),s.ctor.prototype=s.prototype,s.prototype.constructor=s.ctor,t.ready&&t.upgradeAll(document),s.ctor}function n(t){var e=h(t);return e?n(e.extends).concat([e]):[]}function r(t){for(var e,n=t.extends,r=0;e=t.ancestry[r];r++)n=e.is&&e.tag;t.tag=n||t.__name,n&&(t.is=t.__name)}function i(t){if(!Object.__proto__){var e=HTMLElement.prototype;if(t.is){var n=document.createElement(t.tag);e=Object.getPrototypeOf(n)}for(var r,i=t.prototype;i&&i!==e;){var r=Object.getPrototypeOf(i);i.__proto__=r,i=r}}t.native=e}function o(t){return s(x(t.tag),t)}function s(e,n){return n.is&&e.setAttribute("is",n.is),e.removeAttribute("unresolved"),a(e,n),e.__upgraded__=!0,t.upgradeSubtree(e),u(e),e}function a(t,e){Object.__proto__?t.__proto__=e.prototype:(c(t,e.prototype,e.native),t.__proto__=e.prototype)}function c(t,e,n){for(var r={},i=e;i!==n&&i!==HTMLUnknownElement.prototype;){for(var o,s=Object.getOwnPropertyNames(i),a=0;o=s[a];a++)r[o]||(Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(i,o)),r[o]=1);i=Object.getPrototypeOf(i)}}function u(t){t.createdCallback&&t.createdCallback()}function l(t){if(!t.setAttribute._polyfilled){var e=t.setAttribute;t.setAttribute=function(t,n){d.call(this,t,n,e)};var n=t.removeAttribute;t.removeAttribute=function(t){d.call(this,t,null,n)},t.setAttribute._polyfilled=!0}}function d(t,e,n){var r=this.getAttribute(t);n.apply(this,arguments);var i=this.getAttribute(t);this.attributeChangedCallback&&i!==r&&this.attributeChangedCallback(t,r,i)}function h(t){return t?E[t.toLowerCase()]:void 0}function f(t,e){E[t]=e}function p(t){return function(){return o(t)}}function v(t,e){var n=h(e||t);return n?new n.ctor:x(t)}function m(t){if(!t.__upgraded__&&t.nodeType===Node.ELEMENT_NODE){var e=t.getAttribute("is")||t.localName,n=h(e);return n&&s(t,n)}}function g(e){var n=k.call(this,e);return t.upgradeAll(n),n}t||(t=window.CustomElements={flags:{}});var b=t.flags,y=Boolean(document.registerElement),_=!b.register&&y;if(_){var w=function(){};t.registry={},t.upgradeElement=w,t.watchShadow=w,t.upgrade=w,t.upgradeAll=w,t.upgradeSubtree=w,t.observeDocument=w,t.upgradeDocument=w,t.takeRecords=w}else{var E={},x=document.createElement.bind(document),k=Node.prototype.cloneNode;document.registerElement=e,document.createElement=v,Node.prototype.cloneNode=g,t.registry=E,t.upgrade=m}document.register=document.registerElement,t.hasNative=y,t.useNative=_}(window.CustomElements),function(t){function e(t,n,r){var i=t.firstElementChild;if(!i)for(i=t.firstChild;i&&i.nodeType!==Node.ELEMENT_NODE;)i=i.nextSibling;for(;i;)n(i,r)!==!0&&e(i,n,r),i=i.nextElementSibling;return null}function n(t,e){for(var n=t.shadowRoot;n;)r(n,e),n=n.olderShadowRoot}function r(t,r){e(t,function(t){return r(t)?!0:void n(t,r)}),n(t,r)}function i(t){return a(t)?(c(t),!0):void d(t)}function o(t){r(t,function(t){return i(t)?!0:void 0})}function s(t){return i(t)||o(t)}function a(e){if(!e.__upgraded__&&e.nodeType===Node.ELEMENT_NODE){var n=e.getAttribute("is")||e.localName,r=t.registry[n];if(r)return k.dom&&console.group("upgrade:",e.localName),t.upgrade(e),k.dom&&console.groupEnd(),!0}}function c(t){d(t),m(t)&&r(t,function(t){d(t)})}function u(t){if(L.push(t),!T){T=!0;var e=window.Platform&&window.Platform.endOfMicrotask||setTimeout;e(l)}}function l(){T=!1;for(var t,e=L,n=0,r=e.length;r>n&&(t=e[n]);n++)t();L=[]}function d(t){C?u(function(){h(t)}):h(t)}function h(t){(t.attachedCallback||t.detachedCallback||t.__upgraded__&&k.dom)&&(k.dom&&console.group("inserted:",t.localName),m(t)&&(t.__inserted=(t.__inserted||0)+1,t.__inserted<1&&(t.__inserted=1),t.__inserted>1?k.dom&&console.warn("inserted:",t.localName,"insert/remove count:",t.__inserted):t.attachedCallback&&(k.dom&&console.log("inserted:",t.localName),t.attachedCallback())),k.dom&&console.groupEnd())}function f(t){p(t),r(t,function(t){p(t)})}function p(t){C?u(function(){v(t)}):v(t)}function v(t){(t.attachedCallback||t.detachedCallback||t.__upgraded__&&k.dom)&&(k.dom&&console.group("removed:",t.localName),m(t)||(t.__inserted=(t.__inserted||0)-1,t.__inserted>0&&(t.__inserted=0),t.__inserted<0?k.dom&&console.warn("removed:",t.localName,"insert/remove count:",t.__inserted):t.detachedCallback&&t.detachedCallback()),k.dom&&console.groupEnd())
}function m(t){for(var e=t,n=window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(document)||document;e;){if(e==n)return!0;e=e.parentNode||e.host}}function g(t){if(t.shadowRoot&&!t.shadowRoot.__watched){k.dom&&console.log("watching shadow-root for: ",t.localName);for(var e=t.shadowRoot;e;)b(e),e=e.olderShadowRoot}}function b(t){t.__watched||(w(t),t.__watched=!0)}function y(t){if(k.dom){var e=t[0];if(e&&"childList"===e.type&&e.addedNodes&&e.addedNodes){for(var n=e.addedNodes[0];n&&n!==document&&!n.host;)n=n.parentNode;var r=n&&(n.URL||n._URL||n.host&&n.host.localName)||"";r=r.split("/?").shift().split("/").pop()}console.group("mutations (%d) [%s]",t.length,r||"")}t.forEach(function(t){"childList"===t.type&&(O(t.addedNodes,function(t){t.localName&&s(t)}),O(t.removedNodes,function(t){t.localName&&f(t)}))}),k.dom&&console.groupEnd()}function _(){y(S.takeRecords()),l()}function w(t){S.observe(t,{childList:!0,subtree:!0})}function E(t){w(t)}function x(t){k.dom&&console.group("upgradeDocument: ",(t.URL||t._URL||"").split("/").pop()),s(t),k.dom&&console.groupEnd()}var k=window.logFlags||{},C=!window.MutationObserver||window.MutationObserver===window.JsMutationObserver;t.hasPolyfillMutations=C;var T=!1,L=[],S=new MutationObserver(y),O=Array.prototype.forEach.call.bind(Array.prototype.forEach);t.watchShadow=g,t.upgradeAll=s,t.upgradeSubtree=o,t.observeDocument=E,t.upgradeDocument=x,t.takeRecords=_}(window.CustomElements),function(){function t(t){return"link"===t.localName&&t.getAttribute("rel")===e}var e=window.HTMLImports?HTMLImports.IMPORT_LINK_TYPE:"none",n={selectors:["link[rel="+e+"]"],map:{link:"parseLink"},parse:function(t){if(!t.__parsed){t.__parsed=!0;var e=t.querySelectorAll(n.selectors);r(e,function(t){n[n.map[t.localName]](t)}),CustomElements.upgradeDocument(t),CustomElements.observeDocument(t)}},parseLink:function(e){t(e)&&this.parseImport(e)},parseImport:function(t){t.content&&n.parse(t.content)}},r=Array.prototype.forEach.call.bind(Array.prototype.forEach);CustomElements.parser=n}(),function(t){function e(){CustomElements.parser.parse(document),CustomElements.upgradeDocument(document);var t=window.Platform&&Platform.endOfMicrotask?Platform.endOfMicrotask:setTimeout;t(function(){CustomElements.ready=!0,CustomElements.readyTime=Date.now(),window.HTMLImports&&(CustomElements.elapsed=CustomElements.readyTime-HTMLImports.readyTime),document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))})}if("function"!=typeof window.CustomEvent&&(window.CustomEvent=function(t){var e=document.createEvent("HTMLEvents");return e.initEvent(t,!0,!0),e}),"complete"===document.readyState||t.flags.eager)e();else if("interactive"!==document.readyState||window.attachEvent||window.HTMLImports&&!window.HTMLImports.ready){var n=window.HTMLImports&&!HTMLImports.ready?"HTMLImportsLoaded":"DOMContentLoaded";window.addEventListener(n,e)}else e()}(window.CustomElements),function(){function t(t){var e=R.call(t);return I[e]||(I[e]=e.match(F)[1].toLowerCase())}function e(n,r){var i=e[r||t(n)];return i?i(n):n}function n(e){return-1==H.indexOf(t(e))?Array.prototype.slice.call(e,0):[e]}function r(t,e){return(e||q).length?n(t.querySelectorAll(e)):[]}function i(t,e){var n={added:[],removed:[]};e.forEach(function(e){e._mutation=!0;for(var r in n)for(var i=t._records["added"==r?"inserted":"removed"],o=e[r+"Nodes"],s=o.length,a=0;s>a&&-1==n[r].indexOf(o[a]);a++)n[r].push(o[a]),i.forEach(function(t){t(o[a],e)})})}function o(n,r,i){var o=t(i);return"object"==o&&"object"==t(n[r])?z.merge(n[r],i):n[r]=e(i,o),n}function s(t,e,n,r,i){var o=i[e];e in i?"function"==typeof i[e]&&(o.__mixins__||(o.__mixins__=[]),o.__mixins__.push(z.applyPseudos(n,r,t.pseudos))):i[e]=r}function a(t,e,n,r){if(r){var i={};for(var o in n)i[o.split(":")[0]]=o;for(o in e)s(t,i[o.split(":")[0]]||o,o,e[o],n)}else for(var a in e)n[a+":__mixin__("+U++ +")"]=z.applyPseudos(a,e[a],t.pseudos)}function c(t){return t.mixins.forEach(function(e){var n=z.mixins[e];for(var r in n){var i=n[r],o=t[r];if(o)switch(r){case"accessors":case"prototype":for(var s in i)o[s]?a(t,i[s],o[s],!0):o[s]=i[s];break;default:a(t,i,o,"events"!=r)}else t[r]=i}}),t}function u(t,e){var n,r=e.target;if(!r.tagName)return null;if(z.matchSelector(r,t.value))n=r;else if(z.matchSelector(r,t.value+" *"))for(var i=r.parentNode;!n;)z.matchSelector(i,t.value)&&(n=i),i=i.parentNode;return n?t.listener=t.listener.bind(n):null}function l(t){if(t.type.match("touch"))t.target.__touched__=!0;else if(t.target.__touched__&&t.type.match("mouse"))return void delete t.target.__touched__;return!0}function d(t){var e="over"==t;return{attach:"OverflowEvent"in k?"overflowchanged":[],condition:function(n){return n.flow=t,n.type==t+"flow"||0===n.orient&&n.horizontalOverflow==e||1==n.orient&&n.verticalOverflow==e||2==n.orient&&n.horizontalOverflow==e&&n.verticalOverflow==e}}}function h(t,e,n,r){r?e[t]=n[t]:Object.defineProperty(e,t,{writable:!0,enumerable:!0,value:n[t]})}function f(t,e){var n=Object.getOwnPropertyDescriptor(t,"target");for(var r in e)B[r]||h(r,t,e,n);t.baseEvent=e}function p(t,e){return{value:t.boolean?"":e,method:t.boolean&&!e?"removeAttribute":"setAttribute"}}function v(t,e,n,r){var i=p(e,r);t[i.method](n,i.value)}function m(t,e,n,r,i){for(var o=e.property?[t.xtag[e.property]]:e.selector?z.query(t,e.selector):[],s=o.length;s--;)o[s][i](n,r)}function g(t,e,n){t.__view__&&t.__view__.updateBindingValue(t,e,n)}function b(t,e,n,r,i,o){var s=n.split(":"),a=s[0];if("get"==a)s[0]=e,t.prototype[e].get=z.applyPseudos(s.join(":"),r[n],t.pseudos,r[n]);else if("set"==a){s[0]=e;var c=t.prototype[e].set=z.applyPseudos(s.join(":"),i?function(t){this.xtag._skipSet=!0,this.xtag._skipAttr||v(this,i,o,t),this.xtag._skipAttr&&i.skip&&delete this.xtag._skipAttr,r[n].call(this,i.boolean?!!t:t),g(this,o,t),delete this.xtag._skipSet}:r[n]?function(t){r[n].call(this,t),g(this,o,t)}:null,t.pseudos,r[n]);i&&(i.setter=c)}else t.prototype[e][n]=r[n]}function y(t,e){t.prototype[e]={};var n=t.accessors[e],r=n.attribute,i=r&&r.name?r.name.toLowerCase():e;r&&(r.key=e,t.attributes[i]=r);for(var o in n)b(t,e,o,n,r,i);if(r){if(!t.prototype[e].get){var s=(r.boolean?"has":"get")+"Attribute";t.prototype[e].get=function(){return this[s](i)}}t.prototype[e].set||(t.prototype[e].set=function(t){v(this,r,i,t),g(this,i,t)})}}function _(t){$[t]=($[t]||[]).filter(function(e){return(e.tags=e.tags.filter(function(e){return e!=t&&!z.tags[e]})).length||e.fn()})}function w(t,e,n){t.__tap__||(t.__tap__={click:"mousedown"==n.type},t.__tap__.click?t.addEventListener("click",e.observer):(t.__tap__.scroll=e.observer.bind(t),window.addEventListener("scroll",t.__tap__.scroll,!0),t.addEventListener("touchmove",e.observer),t.addEventListener("touchcancel",e.observer),t.addEventListener("touchend",e.observer))),t.__tap__.click||(t.__tap__.x=n.touches[0].pageX,t.__tap__.y=n.touches[0].pageY)}function E(t,e){t.__tap__&&(t.__tap__.click?t.removeEventListener("click",e.observer):(window.removeEventListener("scroll",t.__tap__.scroll,!0),t.removeEventListener("touchmove",e.observer),t.removeEventListener("touchcancel",e.observer),t.removeEventListener("touchend",e.observer)),delete t.__tap__)}function x(t,e,n){var r=n.changedTouches[0],i=e.gesture.tolerance;return r.pageX<t.__tap__.x+i&&r.pageX>t.__tap__.x-i&&r.pageY<t.__tap__.y+i&&r.pageY>t.__tap__.y-i?!0:void 0}var k=window,C=document,T=C.createElement("div"),L=function(){},S=function(){return!0},O=/([\w-]+(?:\([^\)]+\))?)/g,N=/(\w*)(?:\(([^\)]*)\))?/,M=/(\d+)/g,j={action:function(t,e){return t.value.match(M).indexOf(String(e.keyCode))>-1==("keypass"==t.name)||null}},A=function(){var t=k.getComputedStyle(C.documentElement,""),e=(Array.prototype.slice.call(t).join("").match(/-(moz|webkit|ms)-/)||""===t.OLink&&["","o"])[1];return{dom:"ms"==e?"MS":e,lowercase:e,css:"-"+e+"-",js:"ms"==e?e:e[0].toUpperCase()+e.substr(1)}}(),D=Element.prototype.matchesSelector||Element.prototype[A.lowercase+"MatchesSelector"],P=k.MutationObserver||k[A.js+"MutationObserver"],I={},R=I.toString,F=/\s([a-zA-Z]+)/;e.object=function(t){var n={};for(var r in t)n[r]=e(t[r]);return n},e.array=function(t){for(var n=t.length,r=new Array(n);n--;)r[n]=e(t[n]);return r};var H=["undefined","null","number","boolean","string","function"],q="",U=0,B={};for(var V in C.createEvent("CustomEvent"))B[V]=1;var $={},z={tags:{},defaultOptions:{pseudos:[],mixins:[],events:{},methods:{},accessors:{},lifecycle:{},attributes:{},prototype:{xtag:{get:function(){return this.__xtag__?this.__xtag__:this.__xtag__={data:{}}}}}},register:function(t,e){var r;if("string"==typeof t){r=t.toLowerCase();var i=e.prototype;delete e.prototype;var o=z.tags[r]=c(z.merge({},z.defaultOptions,e));for(var s in o.events)o.events[s]=z.parseEvent(s,o.events[s]);for(s in o.lifecycle)o.lifecycle[s.split(":")[0]]=z.applyPseudos(s,o.lifecycle[s],o.pseudos,o.lifecycle[s]);for(s in o.methods)o.prototype[s.split(":")[0]]={value:z.applyPseudos(s,o.methods[s],o.pseudos,o.methods[s]),enumerable:!0};for(s in o.accessors)y(o,s);var a=o.lifecycle.created||o.lifecycle.ready;o.prototype.createdCallback={enumerable:!0,value:function(){var t=this;z.addEvents(this,o.events),o.mixins.forEach(function(e){z.mixins[e].events&&z.addEvents(t,z.mixins[e].events)});var e=a?a.apply(this,arguments):null;for(var n in o.attributes){var r=o.attributes[n],i=this.hasAttribute(n);(i||r.boolean)&&(this[r.key]=r.boolean?i:this.getAttribute(n))}return o.pseudos.forEach(function(e){e.onAdd.call(t,e)}),e}};var u=o.lifecycle.inserted,l=o.lifecycle.removed;(u||l)&&(o.prototype.attachedCallback={value:function(){return l&&(this.xtag.__parentNode__=this.parentNode),u?u.apply(this,arguments):void 0},enumerable:!0}),l&&(o.prototype.detachedCallback={value:function(){var t=n(arguments);t.unshift(this.xtag.__parentNode__);var e=l.apply(this,t);return delete this.xtag.__parentNode__,e},enumerable:!0}),o.lifecycle.attributeChanged&&(o.prototype.attributeChangedCallback={value:o.lifecycle.attributeChanged,enumerable:!0});var d=o.prototype.setAttribute||HTMLElement.prototype.setAttribute;o.prototype.setAttribute={writable:!0,enumberable:!0,value:function(t,e){var n=o.attributes[t.toLowerCase()];this.xtag._skipAttr||d.call(this,t,n&&n.boolean?"":e),n&&(n.setter&&!this.xtag._skipSet&&(this.xtag._skipAttr=!0,n.setter.call(this,n.boolean?!0:e)),e=n.skip?n.boolean?this.hasAttribute(t):this.getAttribute(t):e,m(this,n,t,n.boolean?"":e,"setAttribute")),delete this.xtag._skipAttr}};var h=o.prototype.removeAttribute||HTMLElement.prototype.removeAttribute;o.prototype.removeAttribute={writable:!0,enumberable:!0,value:function(t){var e=o.attributes[t.toLowerCase()];this.xtag._skipAttr||h.call(this,t),e&&(e.setter&&!this.xtag._skipSet&&(this.xtag._skipAttr=!0,e.setter.call(this,e.boolean?!1:void 0)),m(this,e,t,void 0,"removeAttribute")),delete this.xtag._skipAttr}};var f=i?i:e["extends"]?Object.create(C.createElement(e["extends"]).constructor).prototype:k.HTMLElement.prototype,p={prototype:Object.create(f,o.prototype)};e["extends"]&&(p["extends"]=e["extends"]);var v=C.registerElement(r,p);return _(r),v}},ready:function(t,e){var r={tags:n(t),fn:e};r.tags.reduce(function(t,e){return z.tags[e]?t:void($[e]=$[e]||[]).push(r)},!0)&&e()},mixins:{},prefix:A,captureEvents:["focus","blur","scroll","underflow","overflow","overflowchanged","DOMMouseScroll"],customEvents:{overflow:d("over"),underflow:d("under"),animationstart:{attach:[A.dom+"AnimationStart"]},animationend:{attach:[A.dom+"AnimationEnd"]},transitionend:{attach:[A.dom+"TransitionEnd"]},move:{attach:["mousemove","touchmove"],condition:l},enter:{attach:["mouseover","touchenter"],condition:l},leave:{attach:["mouseout","touchleave"],condition:l},scrollwheel:{attach:["DOMMouseScroll","mousewheel"],condition:function(t){return t.delta=t.wheelDelta?t.wheelDelta/40:Math.round(t.detail/3.5*-1),!0}},tapstart:{observe:{mousedown:C,touchstart:C},condition:l},tapend:{observe:{mouseup:C,touchend:C},condition:l},tapmove:{attach:["tapstart","dragend","touchcancel"],condition:function(t,e){switch(t.type){case"move":return!0;case"dragover":var n=e.lastDrag||{};return e.lastDrag=t,n.pageX!=t.pageX&&n.pageY!=t.pageY||null;case"tapstart":e.move||(e.current=this,e.move=z.addEvents(this,{move:e.listener,dragover:e.listener}),e.tapend=z.addEvent(C,"tapend",e.listener));break;case"tapend":case"dragend":case"touchcancel":t.touches.length||(e.move&&z.removeEvents(e.current,e.move||{}),e.tapend&&z.removeEvent(C,e.tapend||{}),delete e.lastDrag,delete e.current,delete e.tapend,delete e.move)}}}},pseudos:{__mixin__:{},mixins:{onCompiled:function(t,e){var n=e.source.__mixins__;if(n)switch(e.value){case"before":return function(){var e=this,r=arguments;return n.forEach(function(t){t.apply(e,r)}),t.apply(e,r)};case"after":case null:return function(){var e=this,r=arguments;return returns=t.apply(e,r),n.forEach(function(t){t.apply(e,r)}),returns}}}},keypass:j,keyfail:j,delegate:{action:u},within:{action:u,onAdd:function(t){var e=t.source.condition;e&&(t.source.condition=function(n,r){return z.query(this,t.value).filter(function(t){return t==n.target||t.contains?t.contains(n.target):null})[0]?e.call(this,n,r):null})}},preventable:{action:function(t,e){return!e.defaultPrevented}}},clone:e,typeOf:t,toArray:n,wrap:function(t,e){return function(){var n=arguments,r=t.apply(this,n);return e.apply(this,n),r}},merge:function(e,n,r){if("string"==t(n))return o(e,n,r);for(var i=1,s=arguments.length;s>i;i++){var a=arguments[i];for(var c in a)o(e,c,a[c])}return e},uid:function(){return Math.random().toString(36).substr(2,10)},query:r,skipTransition:function(t,e,n){var r=A.js+"TransitionProperty";t.style[r]=t.style.transitionProperty="none";var i=e?e.call(n):null;return z.requestFrame(function(){z.requestFrame(function(){t.style[r]=t.style.transitionProperty="",i&&z.requestFrame(i)})})},requestFrame:function(){var t=k.requestAnimationFrame||k[A.lowercase+"RequestAnimationFrame"]||function(t){return k.setTimeout(t,20)};return function(e){return t(e)}}(),cancelFrame:function(){var t=k.cancelAnimationFrame||k[A.lowercase+"CancelAnimationFrame"]||k.clearTimeout;return function(e){return t(e)}}(),matchSelector:function(t,e){return D.call(t,e)},set:function(t,e,n){t[e]=n,window.CustomElements&&CustomElements.upgradeAll(t)},innerHTML:function(t,e){z.set(t,"innerHTML",e)},hasClass:function(t,e){return t.className.split(" ").indexOf(e.trim())>-1},addClass:function(t,e){var n=t.className.trim().split(" ");return e.trim().split(" ").forEach(function(t){~n.indexOf(t)||n.push(t)}),t.className=n.join(" ").trim(),t},removeClass:function(t,e){var n=e.trim().split(" ");return t.className=t.className.trim().split(" ").filter(function(t){return t&&!~n.indexOf(t)}).join(" "),t},toggleClass:function(t,e){return z[z.hasClass(t,e)?"removeClass":"addClass"].call(null,t,e)},queryChildren:function(t,e){var r=t.id,i=t.id=r||"x_"+z.uid(),o="#"+i+" > ",s=!1;t.parentNode||(s=!0,T.appendChild(t)),e=o+(e+"").replace(",",","+o,"g");var a=t.parentNode.querySelectorAll(e);return r||t.removeAttribute("id"),s&&T.removeChild(t),n(a)},createFragment:function(t){var e=C.createDocumentFragment();if(t){for(var r=e.appendChild(C.createElement("div")),i=n(t.nodeName?arguments:!(r.innerHTML=t)||r.children),o=i.length,s=0;o>s;)e.insertBefore(i[s++],r);e.removeChild(r)}return e},manipulate:function(t,e){var n=t.nextSibling,r=t.parentNode,i=C.createDocumentFragment(),o=e.call(i.appendChild(t),i)||t;n?r.insertBefore(o,n):r.appendChild(o)},applyPseudos:function(t,e,r,i){var o=e,s={};if(t.match(":"))for(var a=t.match(O),c=a.length;--c;)a[c].replace(N,function(e,u,l){if(!z.pseudos[u])throw"pseudo not found: "+u+" "+a;l=""===l||"undefined"==typeof l?null:l;var d=s[c]=Object.create(z.pseudos[u]);d.key=t,d.name=u,d.value=l,d.arguments=(l||"").split(","),d.action=d.action||S,d.source=i;var h=o;o=function(){var e=n(arguments),r={key:t,name:u,value:l,source:i,arguments:d.arguments,listener:h},o=d.action.apply(this,[r].concat(e));return null===o||o===!1?o:r.listener.apply(this,e)},r&&d.onAdd&&(r.nodeName?d.onAdd.call(r,d):r.push(d))});for(var u in s)s[u].onCompiled&&(o=s[u].onCompiled(o,s[u])||o);return o},removePseudos:function(t,e){e.forEach(function(e){e.onRemove&&e.onRemove.call(t,e)})},parseEvent:function(t,e){var r=t.split(":"),i=r.shift(),o=z.customEvents[i],s=z.merge({type:i,stack:L,condition:S,attach:[],_attach:[],pseudos:"",_pseudos:[],onAdd:L,onRemove:L},o||{});s.attach=n(s.base||s.attach),s.chain=i+(s.pseudos.length?":"+s.pseudos:"")+(r.length?":"+r.join(":"):"");var a=s.condition;s.condition=function(t){t.touches,t.targetTouches;return a.apply(this,arguments)};var c=z.applyPseudos(s.chain,e,s._pseudos,s);if(s.stack=function(t){t.currentTarget=t.currentTarget||this;var e=(t.touches,t.targetTouches,t.detail||{});return e.__stack__?e.__stack__==c?(t.stopPropagation(),t.cancelBubble=!0,c.apply(this,arguments)):void 0:c.apply(this,arguments)},s.listener=function(t){var e=n(arguments),r=s.condition.apply(this,e.concat([s]));return r?t.type!=i&&t.baseEvent&&t.type!=t.baseEvent.type?void z.fireEvent(t.target,i,{baseEvent:t,detail:r!==!0&&(r.__stack__=c)?r:{__stack__:c}}):s.stack.apply(this,e):r},s.attach.forEach(function(t){s._attach.push(z.parseEvent(t,s.listener))}),o&&o.observe&&!o.__observing__){o.observer=function(t){var e=s.condition.apply(this,n(arguments).concat([o]));return e?void z.fireEvent(t.target,i,{baseEvent:t,detail:e!==!0?e:{}}):e};for(var u in o.observe)z.addEvent(o.observe[u]||document,u,o.observer,!0);o.__observing__=!0}return s},addEvent:function(t,e,n,r){var i="function"==typeof n?z.parseEvent(e,n):n;return i._pseudos.forEach(function(e){e.onAdd.call(t,e)}),i._attach.forEach(function(e){z.addEvent(t,e.type,e)}),i.onAdd.call(t,i,i.listener),t.addEventListener(i.type,i.stack,r||z.captureEvents.indexOf(i.type)>-1),i},addEvents:function(t,e){var n={};for(var r in e)n[r]=z.addEvent(t,r,e[r]);return n},removeEvent:function(t,e,n){n=n||e,n.onRemove.call(t,n,n.listener),z.removePseudos(t,n._pseudos),n._attach.forEach(function(e){z.removeEvent(t,e)}),t.removeEventListener(n.type,n.stack)},removeEvents:function(t,e){for(var n in e)z.removeEvent(t,e[n])},fireEvent:function(t,e,n,r){var i=C.createEvent("CustomEvent");n=n||{},r&&console.warn("fireEvent has been modified"),i.initCustomEvent(e,n.bubbles!==!1,n.cancelable!==!1,n.detail),n.baseEvent&&f(i,n.baseEvent);try{t.dispatchEvent(i)}catch(o){console.warn("This error may have been caused by a change in the fireEvent method",o)}},addObserver:function(t,e,n){t._records||(t._records={inserted:[],removed:[]},P?(t._observer=new P(function(e){i(t,e)}),t._observer.observe(t,{subtree:!0,childList:!0,attributes:!1,characterData:!1})):["Inserted","Removed"].forEach(function(e){t.addEventListener("DOMNode"+e,function(n){n._mutation=!0,t._records[e.toLowerCase()].forEach(function(t){t(n.target,n)})},!1)})),-1==t._records[e].indexOf(n)&&t._records[e].push(n)},removeObserver:function(t,e,n){var r=t._records;r&&n?r[e].splice(r[e].indexOf(n),1):r[e]=[]}},X=!1,Z=null;C.addEventListener("mousedown",function(t){X=!0,Z=t.target},!0),C.addEventListener("mouseup",function(){X=!1,Z=null},!0),C.addEventListener("dragend",function(){X=!1,Z=null},!0);var W={touches:{configurable:!0,get:function(){return this.__touches__||(this.identifier=0)||(this.__touches__=X?[this]:[])}},targetTouches:{configurable:!0,get:function(){return this.__targetTouches__||(this.__targetTouches__=X&&this.currentTarget&&(this.currentTarget==Z||this.currentTarget.contains&&this.currentTarget.contains(Z))?(this.identifier=0)||[this]:[])}},changedTouches:{configurable:!0,get:function(){return this.__changedTouches__||(this.identifier=0)||(this.__changedTouches__=[this])}}};for(V in W)UIEvent.prototype[V]=W[V],Object.defineProperty(UIEvent.prototype,V,W[V]);z.customEvents.tap={observe:{mousedown:document,touchstart:document},gesture:{tolerance:8},condition:function(t,e){var n=t.target;switch(t.type){case"touchstart":return n.__tap__&&n.__tap__.click&&E(n,e),void w(n,e,t);case"mousedown":return void(n.__tap__||w(n,e,t));case"scroll":case"touchcancel":return void E(this,e);case"touchmove":case"touchend":return this.__tap__&&!x(this,e,t)?void E(this,e):"touchend"==t.type||null;case"click":return E(this,e),!0}}},k.xtag=z,"function"==typeof define&&define.amd&&define(z),C.addEventListener("WebComponentsReady",function(){z.fireEvent(C.body,"DOMComponentsLoaded")})}(),function(){function t(t,e){if(!t)throw new TypeError("Invalid argument");var n=document.implementation.createHTMLDocument("");if(e){var r=n.createElement("base");r.href=e,n.head.appendChild(r)}var i=n.createElement("a");if(i.href=t,n.body.appendChild(i),":"===i.protocol||!/:/.test(i.href))throw new TypeError("Invalid URL");Object.defineProperty(this,"_anchorElement",{value:i})}if(!(window.URL&&window.URL.prototype&&"href"in window.URL.prototype)){t.prototype={toString:function(){return this.href},get href(){return this._anchorElement.href},set href(t){this._anchorElement.href=t},get protocol(){return this._anchorElement.protocol},set protocol(t){this._anchorElement.protocol=t},get host(){return this._anchorElement.host},set host(t){this._anchorElement.host=t},get hostname(){return this._anchorElement.hostname},set hostname(t){this._anchorElement.hostname=t},get port(){return this._anchorElement.port},set port(t){this._anchorElement.port=t},get pathname(){return this._anchorElement.pathname},set pathname(t){this._anchorElement.pathname=t},get search(){return this._anchorElement.search},set search(t){this._anchorElement.search=t},get hash(){return this._anchorElement.hash},set hash(t){this._anchorElement.hash=t}};var e=window.URL||window.webkitURL||window.mozURL;t.createObjectURL=function(){return e.createObjectURL.apply(e,arguments)},t.revokeObjectURL=function(){return e.revokeObjectURL.apply(e,arguments)},Object.defineProperty(t.prototype,"toString",{enumerable:!1}),window.URL=t}}(),window.HTMLImports=window.HTMLImports||{flags:{}},function(t){var e=(t.path,t.xhr),n=t.flags,r=function(t,e){this.cache={},this.onload=t,this.oncomplete=e,this.inflight=0,this.pending={}};r.prototype={addNodes:function(t){this.inflight+=t.length;for(var e,n=0,r=t.length;r>n&&(e=t[n]);n++)this.require(e);this.checkDone()},addNode:function(t){this.inflight++,this.require(t),this.checkDone()},require:function(t){var e=t.src||t.href;t.__nodeUrl=e,this.dedupe(e,t)||this.fetch(e,t)},dedupe:function(t,e){if(this.pending[t])return this.pending[t].push(e),!0;return this.cache[t]?(this.onload(t,e,this.cache[t]),this.tail(),!0):(this.pending[t]=[e],!1)},fetch:function(t,r){if(n.load&&console.log("fetch",t,r),t.match(/^data:/)){var i=t.split(","),o=i[0],s=i[1];s=o.indexOf(";base64")>-1?atob(s):decodeURIComponent(s),setTimeout(function(){this.receive(t,r,null,s)}.bind(this),0)}else{var a=function(e,n,i){this.receive(t,r,e,n,i)}.bind(this);e.load(t,a)}},receive:function(t,e,n,r,i){this.cache[t]=r;var o=this.pending[t];i&&i!==t&&(this.cache[i]=r,o=o.concat(this.pending[i]));for(var s,a=0,c=o.length;c>a&&(s=o[a]);a++)this.onload(i||t,s,r),this.tail();this.pending[t]=null,i&&i!==t&&(this.pending[i]=null)},tail:function(){--this.inflight,this.checkDone()},checkDone:function(){this.inflight||this.oncomplete()}},e=e||{async:!0,ok:function(t){return t.status>=200&&t.status<300||304===t.status||0===t.status},load:function(n,r,i){var o=new XMLHttpRequest;return(t.flags.debug||t.flags.bust)&&(n+="?"+Math.random()),o.open("GET",n,e.async),o.addEventListener("readystatechange",function(){if(4===o.readyState){var t=o.getResponseHeader("Location"),n=null;if(t)var n="/"===t.substr(0,1)?location.origin+t:n;r.call(i,!e.ok(o)&&o,o.response||o.responseText,n)}}),o.send(),o},loadDocument:function(t,e,n){this.load(t,e,n).responseType="document"}},t.xhr=e,t.Loader=r}(window.HTMLImports),function(t){function e(t){return"link"===t.localName&&t.rel===s}function n(t){var e,n=r(t);try{e=btoa(n)}catch(i){e=btoa(unescape(encodeURIComponent(n))),console.warn("Script contained non-latin characters that were forced to latin. Some characters may be wrong.",t)}return"data:text/javascript;base64,"+e}function r(t){return t.textContent+i(t)}function i(t){var e=t.__nodeUrl;if(!e){e=t.ownerDocument.baseURI;var n="["+Math.floor(1e3*(Math.random()+1))+"]",r=t.textContent.match(/Polymer\(['"]([^'"]*)/);n=r&&r[1]||n,e+="/"+n+".js"}return"\n//# sourceURL="+e+"\n"}function o(t){var e=t.ownerDocument.createElement("style");return e.textContent=t.textContent,f.resolveUrlsInStyle(e),e}var s="import",a=t.flags,c=/Trident/.test(navigator.userAgent),u=window.ShadowDOMPolyfill?window.ShadowDOMPolyfill.wrapIfNeeded(document):document,l={documentSelectors:"link[rel="+s+"]",importsSelectors:["link[rel="+s+"]","link[rel=stylesheet]","style","script:not([type])",'script[type="text/javascript"]'].join(","),map:{link:"parseLink",script:"parseScript",style:"parseStyle"},parseNext:function(){var t=this.nextToParse();t&&this.parse(t)},parse:function(t){if(this.isParsed(t))return void(a.parse&&console.log("[%s] is already parsed",t.localName));var e=this[this.map[t.localName]];e&&(this.markParsing(t),e.call(this,t))},markParsing:function(t){a.parse&&console.log("parsing",t),this.parsingElement=t},markParsingComplete:function(t){t.__importParsed=!0,t.__importElement&&(t.__importElement.__importParsed=!0),this.parsingElement=null,a.parse&&console.log("completed",t)},invalidateParse:function(t){t&&t.__importLink&&(t.__importParsed=t.__importLink.__importParsed=!1,this.parseSoon())},parseSoon:function(){this._parseSoon&&cancelAnimationFrame(this._parseDelay);var t=this;this._parseSoon=requestAnimationFrame(function(){t.parseNext()})},parseImport:function(t){if(HTMLImports.__importsParsingHook&&HTMLImports.__importsParsingHook(t),t.import.__importParsed=!0,this.markParsingComplete(t),t.dispatchEvent(t.__resource?new CustomEvent("load",{bubbles:!1}):new CustomEvent("error",{bubbles:!1})),t.__pending)for(var e;t.__pending.length;)e=t.__pending.shift(),e&&e({target:t});this.parseNext()},parseLink:function(t){e(t)?this.parseImport(t):(t.href=t.href,this.parseGeneric(t))},parseStyle:function(t){var e=t;t=o(t),t.__importElement=e,this.parseGeneric(t)},parseGeneric:function(t){this.trackElement(t),document.head.appendChild(t)},trackElement:function(t,e){var n=this,r=function(r){e&&e(r),n.markParsingComplete(t),n.parseNext()};if(t.addEventListener("load",r),t.addEventListener("error",r),"stylesheet"==t.rel&&!function(e){function n(t){var r=0;try{t.sheet&&t.sheet.cssRules.length>0?r=1:t.styleSheet&&t.styleSheet.cssText.length>0?r=1:t.innerHTML&&t.innerHTML.length>0&&(r=1)}catch(i){}r?e(new CustomEvent("load",{bubbles:!1})):setTimeout(function(){n(t)},50)}n(t)}(r),c&&"style"===t.localName){var i=!1;if(-1==t.textContent.indexOf("@import"))i=!0;else if(t.sheet){i=!0;for(var o,s=t.sheet.cssRules,a=s?s.length:0,u=0;a>u&&(o=s[u]);u++)o.type===CSSRule.IMPORT_RULE&&(i=i&&Boolean(o.styleSheet))}i&&r(new CustomEvent("load",{bubbles:!1}))}},parseScript:function(e){var r=document.createElement("script");r.__importElement=e,r.src=e.src?e.src:n(e),t.currentScript=e,this.trackElement(r,function(){r.parentNode.removeChild(r),t.currentScript=null}),document.head.appendChild(r)},nextToParse:function(){return!this.parsingElement&&this.nextToParseInDoc(u)},nextToParseInDoc:function(t,n){for(var r,i=t.querySelectorAll(this.parseSelectorsForNode(t)),o=0,s=i.length;s>o&&(r=i[o]);o++)if(!this.isParsed(r))return this.hasResource(r)?e(r)?this.nextToParseInDoc(r.import,r):r:void 0;return n},parseSelectorsForNode:function(t){var e=t.ownerDocument||t;return e===u?this.documentSelectors:this.importsSelectors},isParsed:function(t){return t.__importParsed},hasResource:function(t){return e(t)&&!t.import?!1:!0}},d=/(url\()([^)]*)(\))/g,h=/(@import[\s]+(?!url\())([^;]*)(;)/g,f={resolveUrlsInStyle:function(t){var e=t.ownerDocument,n=e.createElement("a");return t.textContent=this.resolveUrlsInCssText(t.textContent,n),t},resolveUrlsInCssText:function(t,e){var n=this.replaceUrls(t,e,d);return n=this.replaceUrls(n,e,h)},replaceUrls:function(t,e,n){return t.replace(n,function(t,n,r,i){var o=r.replace(/["']/g,"");return e.href=o,o=e.href,n+"'"+o+"'"+i})}};t.parser=l,t.path=f,t.isIE=c}(HTMLImports),function(t){function e(t){return n(t,m)}function n(t,e){return"link"===t.localName&&t.getAttribute("rel")===e}function r(t,e){var n=t;n instanceof Document||(n=document.implementation.createHTMLDocument(m)),n._URL=e;var r=n.createElement("base");r.setAttribute("href",e),n.baseURI||(n.baseURI=e);var i=n.createElement("meta");return i.setAttribute("charset","utf-8"),n.head.appendChild(i),n.head.appendChild(r),t instanceof Document||(n.body.innerHTML=t),window.HTMLTemplateElement&&HTMLTemplateElement.bootstrap&&HTMLTemplateElement.bootstrap(n),n}function i(t,e){e=e||g,s(function(){a(t,e)},e)}function o(t){return"complete"===t.readyState||t.readyState===k}function s(t,e){if(o(e))t&&t();else{var n=function(){("complete"===e.readyState||e.readyState===k)&&(e.removeEventListener(C,n),s(t,e))};e.addEventListener(C,n)}}function a(t,e){function n(){o==s&&t&&t()}function r(){o++,n()}var i=e.querySelectorAll("link[rel=import]"),o=0,s=i.length;if(s)for(var a,u=0;s>u&&(a=i[u]);u++)c(a)?r.call(a):(a.addEventListener("load",r),a.addEventListener("error",r));else n()}function c(t){return p?t.import&&"loading"!==t.import.readyState||t.__loaded:t.__importParsed}function u(t){for(var e,n=0,r=t.length;r>n&&(e=t[n]);n++)l(e)&&d(e)}function l(t){return"link"===t.localName&&"import"===t.rel}function d(t){var e=t.import;e?h({target:t}):(t.addEventListener("load",h),t.addEventListener("error",h))}function h(t){t.target.__loaded=!0}var f="import"in document.createElement("link"),p=f,v=t.flags,m="import",g=window.ShadowDOMPolyfill?ShadowDOMPolyfill.wrapIfNeeded(document):document;if(p)var b={};else var y=(t.xhr,t.Loader),_=t.parser,b={documents:{},documentPreloadSelectors:"link[rel="+m+"]",importsPreloadSelectors:["link[rel="+m+"]"].join(","),loadNode:function(t){w.addNode(t)},loadSubtree:function(t){var e=this.marshalNodes(t);w.addNodes(e)},marshalNodes:function(t){return t.querySelectorAll(this.loadSelectorsForNode(t))},loadSelectorsForNode:function(t){var e=t.ownerDocument||t;return e===g?this.documentPreloadSelectors:this.importsPreloadSelectors},loaded:function(t,n,i){if(v.load&&console.log("loaded",t,n),n.__resource=i,e(n)){var o=this.documents[t];o||(o=r(i,t),o.__importLink=n,this.bootDocument(o),this.documents[t]=o),n.import=o}_.parseNext()},bootDocument:function(t){this.loadSubtree(t),this.observe(t),_.parseNext()},loadedAll:function(){_.parseNext()}},w=new y(b.loaded.bind(b),b.loadedAll.bind(b));var E={get:function(){return HTMLImports.currentScript||document.currentScript},configurable:!0};if(Object.defineProperty(document,"_currentScript",E),Object.defineProperty(g,"_currentScript",E),!document.baseURI){var x={get:function(){return window.location.href},configurable:!0};Object.defineProperty(document,"baseURI",x),Object.defineProperty(g,"baseURI",x)}var k=HTMLImports.isIE?"complete":"interactive",C="readystatechange";p&&new MutationObserver(function(t){for(var e,n=0,r=t.length;r>n&&(e=t[n]);n++)e.addedNodes&&u(e.addedNodes)}).observe(document.head,{childList:!0}),t.hasNative=f,t.useNative=p,t.importer=b,t.whenImportsReady=i,t.IMPORT_LINK_TYPE=m,t.isImportLoaded=c,t.importLoader=w}(window.HTMLImports),function(t){function e(t){for(var e,r=0,i=t.length;i>r&&(e=t[r]);r++)"childList"===e.type&&e.addedNodes.length&&n(e.addedNodes)}function n(t){for(var e,i,s=0,a=t.length;a>s&&(i=t[s]);s++)e=e||i.ownerDocument,r(i)&&o.loadNode(i),i.children&&i.children.length&&n(i.children)}function r(t){return 1===t.nodeType&&s.call(t,o.loadSelectorsForNode(t))}function i(t){a.observe(t,{childList:!0,subtree:!0})}var o=(t.IMPORT_LINK_TYPE,t.importer),s=(t.parser,HTMLElement.prototype.matches||HTMLElement.prototype.matchesSelector||HTMLElement.prototype.webkitMatchesSelector||HTMLElement.prototype.mozMatchesSelector||HTMLElement.prototype.msMatchesSelector),a=new MutationObserver(e);t.observe=i,o.observe=i}(HTMLImports),function(){function t(){HTMLImports.importer.bootDocument(e)
}"function"!=typeof window.CustomEvent&&(window.CustomEvent=function(t,e){var n=document.createEvent("HTMLEvents");return n.initEvent(t,e.bubbles===!1?!1:!0,e.cancelable===!1?!1:!0,e.detail),n});var e=window.ShadowDOMPolyfill?window.ShadowDOMPolyfill.wrapIfNeeded(document):document;HTMLImports.whenImportsReady(function(){HTMLImports.ready=!0,HTMLImports.readyTime=(new Date).getTime(),e.dispatchEvent(new CustomEvent("HTMLImportsLoaded",{bubbles:!0}))}),HTMLImports.useNative||("complete"===document.readyState||"interactive"===document.readyState&&!window.attachEvent?t():document.addEventListener("DOMContentLoaded",t))}(),function(t){if(!t.fox){var e=(t.xtag,t.fox=function(){return e.fn&&e.fn.apply(this,arguments)});e.fn=function(t,n){return e.fn.register(t,n)}}}(this),rivets.binders["background-image"]=function(t,e){t.style.backgroundImage="url("+e+")"},rivets.binders["class"]=function(t,e){t._rivetCls&&$(t).removeClass(t._rivetCls),$(t).addClass(e),t._rivetCls=e},function(t){var e,n=t.fox,r=t.xtag;n.mixin=function(t,n){for(var r in n)n[r]!==e&&(t[r]=n[r])},n.query=function(t,e){return r.query(t,e)},n.queryChildren=function(t,e){return r.queryChildren(t,e)},n.bind=function(t,e){return"function"==typeof t.bind?t.bind(e):function(){return t.apply(e,arguments)}},n.fireEvent=function(t,e,n){return r.fireEvent(t,e,n)},n.addEvent=function(t,e,n){return r.addEvent(t,e,n)},n.addEvents=function(t,e){return r.addEvents(t,e)},n.toArray=function(t){return Array.prototype.slice.call(t)}}(this),function(t){var e=t.fox;e.debug=!0,e.log=function(n){e.debug&&"console"in t&&console.log(n)}}(this),function(t){var e=t.fox;e.fn.extendTag=function(t,e,n){var r,i=e.lifecycle||(e.lifecycle={}),o=document.createElement(n),s=o.__proto__||Object.getPrototypeOf(o);e.prototype=s,i.created&&(r=i.created),e.lifecycle.created=function(){s.createdCallback.apply(this,arguments),this.$super=s,r&&r.apply(this,arguments)}}}(this),function(t){function e(t){var e=t.querySelector("tpl"),n={tmpl:null,attributes:[],"extends":null};e&&(n.tmpl=e),n["extends"]=t.getAttribute("extends");var r=t.getAttribute("attributes");return n.attributes=r&&r.split(" ")||[],n}function n(t,e){for(var r=t.querySelectorAll('link[rel="import"]'),i=0;i<r.length;i++){var o=r[i];e.push(o),n(o.import,e)}}function r(t){var r=[];n(document,r);for(var i,o=0;o<r.length;o++){var s=r[o],a=s.import.querySelector('fox-element[name="'+t+'"]');if(a){i=a;break}}var c={};return i&&(c=e(i)),c}function i(t,e){window.addEventListener("HTMLImportsLoaded",function(){if(-1!=a.indexOf(t))throw new Error(t+" already defined.");o(t,e),a.push(t)},!0)}function o(t,e){var n=r(t);e=e||{},e.lifecycle||(e.lifecycle={}),s.fn.datasource(e),n["extends"]&&s.fn.extendTag(t,e,n["extends"]),e.accessors=e.accessors||{},n.attributes&&n.attributes.forEach(function(t){e.accessors[t]={attribute:!0}});var i=e.lifecycle.created,o=e.lifecycle.attributeChanged;e.lifecycle.created=function(){if(n.tmpl){var t=$(n.tmpl).clone(!0);t.rivets=rivets.bind(t.get(0),this);var e=$(this).children();$("content",t).replaceWith(e),$(this).empty(),$("fox-tmpl",t).each(function(){rivets.bind(this,this)});var r={};$("[id]",t).each(function(){r[$(this).attr("id")]=this}),this.$=r,$(this).append(t.children())}i&&i.apply(this,arguments)},e.lifecycle.attributeChanged=function(t,n,r){var i=e.lifecycle[t+"Changed"];i&&i.call(this,n,r),o&&o.apply(this,arguments)},xtag.register(t,e)}var s=t.fox,a=[];s.fn.register=i}(this),function(t){function e(){var t="a[href]",e=this;l(document).on("click",t,function(t){if(!this.hasAttribute("disable-pjax")){t.preventDefault();var n=this.getAttribute("href"),r=this.getAttribute("title"),i=this.getAttribute("transition"),o=this.getAttribute("fox-push-mode");n&&e.navigate(n,r,i,o)}})}function n(t){t&&!t._anchor_&&t.parentNode.removeChild(t)}function r(t){function e(){s.removeEventListener("transitionend",e,!1),s.removeEventListener("webkitTransitionEnd",e,!1),n(s)}var r,o,s,a=history.state||t.state,u=b.animation&&(!c||Date.now()-c>g)?!0:!1,h=d[d.length-2];!a||h&&h.href===a.href?(p=!0,r=d.pop(),s=r?r.page:null,o=a?h.page:l(v)[0],document.title=m):(p=!1,r=d[d.length-1],s=r&&r.page||l(v)[0],o=i(a.href,a.transition,a.title,a.pushMode),d.push({href:a.href,page:o}),a.title&&(document.title=a.title)),s&&(s.transition=s.transition||b.defaultTransition,!p||u&&"display"!==s.transition?(p&&(s.addEventListener("transitionend",e,!1),s.addEventListener("webkitTransitionEnd",e,!1)),s.hide(u,p)):n(s)),o&&(o.transition=o.transition||b.defaultTransition,o.show(u,p))}function i(t,e,n,r){var i;if(e=e||b.defaultTransition,0===t.indexOf("#")){if(i=l(t)[0],!i)return;i._anchor_=!0}else{if("single"===r){var o=h[t];i=u.query(document,'fox-page[fox-page-id="'+o+'"]')[0]}i||(i=document.createElement("fox-page"),i.class="transition-out",h[t]=++f,i.setAttribute("fox-page-id",f),i.innerHTML='<fox-toolbar title="'+(n||"")+'"><fox-icon icon="icon-spin5" class="right animate-spin"></fox-icon></fox-toolbar><fox-page-content></fox-page-content>',document.body.appendChild(i),new a(t,i))}return e&&!i.transition&&(i.transition=e),i}function o(t,e){var n=location;if(e&&(n=new(window.URL||window.webkitURL)(e)),/^(http\:|https\:)/.test(t))return t;var r=n.hostname,i=n.pathname.split("/"),o=t.split("/"),s=n.protocol;for(i.pop();o.length;){var a=o.shift();".."===a?i.pop():a&&"."!==a&&i.push(a)}return s+"//"+r+i.join("/")}function s(t,e){function n(t){return new RegExp("<link[^>]*? rel=(?:'|\")"+t+"(?:'|\")[^>]*? href=(?:'|\")(.+?)(?:'|\")[^>]*?>","g")}var r,i,s,a,c,l=u.query(document,"script[src]"),d=[];l.forEach(function(e){d.push(o(e.src,t))});var h=u.query(document,"link[rel=import]"),f=[];h.forEach(function(e){f.push(o(e.href,t))});var p=u.query(document,"link[rel=stylesheet]"),v=[];p.forEach(function(e){v.push(o(e.href,t))});var m=n("import");e=e.replace(m,function(e,n){var r=o(n,t);return f.indexOf(r)>-1?"":e});var g=[],b=[],y=/(<fox-page[^>]*>)([\s\S.]*)(<\/fox-page>)/i;/<html/i.test(e)?(r=document.createElement("div"),i=document.createElement("div"),s=e.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0],r.innerHTML=e.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0]):(r=i=document.createElement("div"),s=e),a=(s.match(y)||[])[2],i.innerHTML=s.replace(y,function(t,e,n,r){return e+r}),g=g.concat(u.query(r,"script")),g=g.concat(u.query(i,"script")),b=b.concat(u.query(r,'link[rel="stylesheet"]')),b=b.concat(u.query(i,'link[rel="stylesheet"]'));var _=[];g.forEach(function(e){e.type&&"text/javascript"!=e.type.toLowerCase()||(e.src&&-1===d.indexOf(o(e.src,t))?_.push(e):e.src||_.push(e))});var w=[];b.forEach(function(e){e.href&&-1===v.indexOf(o(e.href,t))&&w.push(e)}),c=r.querySelector("title");var E="innerText"in c?"innerText":"textContent";return c=c&&c[E].trim(),{title:c,scripts:_,styles:w,head:r,body:i,page:a}}function a(t,e,n){t&&e&&(this.placeholder=e,this.timeout=n,this.href=o(t),this.request(t))}var c,u=t.fox,l=t.$,d=[],h={},f=0,p=!1,v=".main-page",m=document.title,g=400,b=u.navigator={disabled:!1,animation:!0,defaultTransition:"display",start:function(){if(!this.disabled&&!this.started&&(history.replaceState(),this.started=!0,window.addEventListener("popstate",function(t){r(t)},!1),e.apply(this),location.hash)){var t=history.state;if(t){var n=i(t.href,t.transition,t.title,t.pushMode),o=l(v)[0];d.push({href:t.href,page:n}),o&&o.hide(),n&&n.show(),t.title&&(document.title=t.title)}}},navigate:function(t,e,n,r){if(!history.state||history.state.href!==t){var o,s=i(t,n,e,r);o=d.length?d[d.length-1].page:l(v)[0],o&&(o.transition=o.transition||b.defaultTransition,o.hide(b.animation)),d.push({href:t,page:s}),s&&(s.transition=s.transition||b.defaultTransition,s.show(b.animation)),history.pushState({href:t,transition:n,title:e,pushMode:r},e,t),e&&(document.title=e)}}};a.prototype=function(){return{resetXHR:function(t){var e=this.xhr;e&&e.readyState<4?(e.onreadystatechange=function(){},e.abort()):(e=this.xhr=new XMLHttpRequest,e.open("GET",t,!0),e.setRequestHeader("X-Requested-With","XMLHttpRequest"))},request:function(t){this.resetXHR(t);var e=this.xhr,n=this;e.onreadystatechange=function(){n._timeout&&clearTimeout(n._timeout),4===e.readyState&&(200===e.status?n.success():n.failure())},this.timeout&&(this._timeout=setTimeout(function(){e.abort("timeout")},this.timeout)),e.send()},success:function(){var t,e,n=this.xhr.responseText,r=this;if(n){var i=s(this.href,n);i&&(i.title&&(document.title=i.title),i.styles.length&&i.styles.forEach(function(t){if(t.href){var e=document.createElement("link");e.rel="stylesheet",e.href=o(t.href,r.href),document.head.appendChild(e)}}),e=i.page,t=i.body.querySelector("fox-page"),t&&r.placeholder.parentNode&&(r.placeholder.innerHTML=e,u.toArray(t.attributes).forEach(function(t){"class"!==t.name&&r.placeholder.setAttribute(t.name,t.value)}),u.toArray(t.classList).forEach(function(t){"."+t!==v&&r.placeholder.classList.add(t)})),i.scripts.length&&i.scripts.forEach(function(t){if(t.src){var e=document.createElement("script");e.src=o(t.src,r.href),document.head.appendChild(e)}else(window.execScript||function(t){window.eval.call(window,t)})(t.textContent)}))}},failure:function(){}}}(),document.addEventListener("HTMLImportsLoaded",function(){b.start(),document.addEventListener("touchmove",function(){c=Date.now()},!1)},!1)}(this),function(env){function parseDataSource(){function setData(t){var e=this.data;this.data=this[dataFilter]?this[dataFilter](t):t,this[callback]&&this[callback](this.data,e)}var ss=this.sourceselector,isGlobalData=ss&&0===ss.indexOf("@"),targetDom=ss&&!isGlobalData,me=this;if(this._callbackTargetDataTag&&document.removeEventListener("data-change",this._callbackTargetDataTag,!1),this._callbackInnerDataTag&&this.removeEventListener("data-change",this._callbackInnerDataTag,!1),isGlobalData)setData.call(this,eval(ss.substring(1)));else if(targetDom){this._callbackTargetDataTag||(this._callbackTargetDataTag=fox.bind(function(t){var e=fox.toArray(document.querySelectorAll(this.sourceselector));e.indexOf(t.target)>-1&&setData.call(this,t.detail.newVal)},this));var dataEl=fox.query(document,ss)[0];dataEl&&dataEl.data&&setData.call(this,dataEl.data),document.addEventListener("data-change",this._callbackTargetDataTag,!1)}else{var dataEl=fox.queryChildren(this,dataTags.concat(dataContainerTags).join())[0];dataEl&&dataEl.data&&setData.call(this,dataEl.data),this._callbackInnerDataTag||(this._callbackInnerDataTag=fox.bind(function(t){t.target.parentNode===this&&setData.call(this,t.detail.newVal)},this)),this.addEventListener("data-change",this._callbackInnerDataTag,!1)}}var fox=env.fox,dataTags=["fox-json","fox-ajax"],dataContainerTags=["fox-model"],callback="datasourceChanged",dataFilter="datasourceFilter";fox.fn.datasource=function(t){var e,n=t.lifecycle||(t.lifecycle={});n.created&&(e=n.created),t.accessors=t.accessors||{},t.accessors.sourceselector={attribute:!0},n.sourceselectorChanged=function(){-1===dataTags.indexOf(this.tagName)&&parseDataSource.call(this)},t.lifecycle.created=function(){-1===dataTags.indexOf(this.tagName)&&parseDataSource.call(this),e&&e.apply(this,arguments)}}}(this);